{"version":3,"file":"preactCharts.js","sources":["../node_modules/preact/dist/preact.mjs","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../../goober/dist/goober.mjs","../src/Axis/index.tsx","../node_modules/d3-scale/node_modules/d3-array/src/ascending.js","../node_modules/d3-scale/node_modules/d3-array/src/bisector.js","../node_modules/d3-scale/node_modules/d3-array/src/bisect.js","../node_modules/d3-scale/node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-scale/src/array.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-scale/node_modules/d3-array/src/range.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-array/src/identity.js","../node_modules/d3-array/src/array.js","../node_modules/d3-array/src/constant.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/threshold/sturges.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/min.js","../src/Utils/pluck.ts","../src/Charts/DifferenceChart.tsx","../src/colors.ts","../src/Charts/GroupedBar.tsx","../src/Charts/Histogram.tsx","../node_modules/d3-array/src/histogram.js","../node_modules/d3-array/src/range.js","../src/Charts/HorizontalBar.tsx","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-shape/src/curve/natural.js","../src/Charts/LineScatter.tsx","../node_modules/free-style/dist.es2015/free-style.js","../node_modules/typestyle/lib.es2015/internal/formatting.js","../node_modules/typestyle/lib.es2015/internal/utilities.js","../node_modules/typestyle/lib.es2015/internal/typestyle.js","../node_modules/typestyle/lib.es2015/index.js","../src/Charts/RangeChart.tsx","../node_modules/d3-shape/src/area.js","../src/Charts/ScatterPlot.tsx","../src/Charts/TrendChart.tsx","../src/Children/Flag.tsx"],"sourcesContent":["var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nfunction applyRef(ref, value) {\n  if (ref != null) {\n    if (typeof ref == 'function') ref(value);else ref.current = value;\n  }\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p;\n\twhile (p = items.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tapplyRef(old, null);\n\t\tapplyRef(value, node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.shift()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null) applyRef(node['__preactattr_'].ref, null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tapplyRef(component.__ref, component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.push(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] != null) applyRef(base['__preactattr_'].ref, null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tapplyRef(component.__ref, null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nfunction createRef() {\n\treturn {};\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tcreateRef: createRef,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, createRef, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var e,t=\"\",r=/(?:([a-z0-9-%]+) *: *([^{;]+?);|([^;}{]*?) +{)|(})/gi,n=/\\/\\*.*?\\*\\/|\\s{2,}|\\n/gm,a=function(e,t,r){var n=\"\",i=\"\";if(/^@k/.test(r))return r+JSON.stringify(e).replace(/\",\"/g,\";\").replace(/\"|,\"/g,\"\").replace(/:{/g,\"{\");for(var u in e){var c=e[u];if(\"object\"==typeof c){var o=t+\" \"+u;/&/g.test(u)&&(o=u.replace(/&/g,t)),\"@\"==u[0]&&(o=t),i+=a(c,o,o==t?u:r||\"\")}else n+=u+\":\"+c+\";\"}if(n.length){var f=t+\"{\"+n+\"}\";return r?i+r+\"{\"+f+\"}\":f+i}return i},i=function(t){return e=t},u=function(i){var u=this,c=\"global\"!=i;return function(o){var f=arguments,s=this,l=function(l){var g=function(e,i,u){var c,o=i&&(c=e,\"g0\"+(c.big?c:JSON.stringify(c)).split(\"\").reduce(function(e,t){return e+t.charCodeAt(0)},0)).toString(8);return function(e,r){if(!~t.indexOf(e)&&(t+=e,\"undefined\"!=typeof document&&(r=r||document.head))){var n=r.querySelector(\"style[data-goober]\");n?n.firstChild.data+=e:((n=document.createElement(\"style\")).setAttribute(\"data-goober\",\"\"),r.appendChild(n).innerHTML=e)}}(function(e,t){return a(t.big?function(e){for(var t,a=e=e.replace(n,\"\"),i=[{}];t=r.exec(a);){var u=t[3];t[4]&&i.shift();var c=i[0];u?i.unshift(c[u]={}):t[4]||(c[t[1]]=t[2])}return i[0]}(t):t,e)}(o?\".\"+o:\"\",e),u),o}(function(e,t,r){return e.reduce?e.reduce(function(e,n,a){var i=t[a];if(\"function\"==typeof t[a]){var u=t[a](r),c=u.attributes||u.props,o=c&&c.className||/^g0/.test(u)&&u;i=o?\".\"+o:c?\"\":u}return e+n+(i||\"\")},\"\"):e}(o,[].slice.call(f,1),l),c,(s||u||{}).target);return!e||!i&&c?g:e(i,Object.assign({},l,{className:l&&l.className?l.className+\" \"+g:g}))};return i&&c?l:l()}},c=function(){return\"<style data-goober>\"+(e=t,t=\"\",e)+\"</style>\";var e},o=u();export{u as styled,i as setPragma,c as extractCss,o as css};\n//# sourceMappingURL=goober.mjs.map\n","import { h, Component } from 'preact';\r\nimport { select } from 'd3-selection';\r\nimport { axisBottom, axisLeft, AxisScale } from 'd3-axis';\r\nimport { css } from 'goober';\r\n\r\nexport const tickLabel = css({\r\n    'font-size': '1em',\r\n    'cursor': 'default',\r\n    'user-select': 'none',\r\n    '>.tick>line': {\r\n        'stroke-width': '1px',\r\n        'stroke-opacity': 0.5,\r\n        'shape-rendering': 'crispEdges',\r\n    },\r\n    '>path': {\r\n        'stroke-width': '2px',\r\n    },\r\n});\r\n\r\nexport const gridStyle = css({\r\n    '>path': {\r\n        stroke: 'none',\r\n    },\r\n    '>.tick>line': {\r\n        'stroke-width': '1px',\r\n        'stroke-opacity': 0.5,\r\n    },\r\n});\r\ninterface AxisProps {\r\n    height?: number;\r\n    width?: number;\r\n    scale: AxisScale<any>;\r\n    axisType: string;\r\n    ticks?: number;\r\n    grid?: boolean;\r\n    rotateScaleText?: boolean;\r\n    offsetX?: number;\r\n\r\n}\r\n\r\nexport class Axis extends Component<AxisProps> {\r\n    public static defaultProps: AxisProps = {\r\n        height: null,\r\n        width: null,\r\n        scale: null,\r\n        axisType: null,\r\n        ticks: 6,\r\n        grid: false,\r\n        rotateScaleText: false,\r\n    };\r\n\r\n    private axis: SVGGElement;\r\n    private grid: SVGGElement;\r\n\r\n    public render ({height, axisType, grid, offsetX}: AxisProps) {\r\n        const translate = offsetX ? `translate(${offsetX}, 0)` : `translate(0, ${height})`;\r\n        const shouldOffset = axisType.toLowerCase() === 'x' || offsetX !== undefined;\r\n\r\n        return (\r\n            <g>\r\n                <g ref={(axis) => this.axis = axis} class={tickLabel}\r\n                    transform={shouldOffset ? translate : ''}>\r\n                </g>\r\n                {\r\n                    grid &&\r\n                    <g ref={(gridline) => this.grid = gridline} class={gridStyle}\r\n                        transform={shouldOffset ? translate : ''}>\r\n                    </g>\r\n                }\r\n            </g>\r\n        );\r\n    }\r\n\r\n    public componentDidMount = () => { this.renderAxis(); };\r\n    public componentDidUpdate = () => { this.renderAxis(); };\r\n    private renderAxis = () => {\r\n        if (this.props.axisType === 'x') {\r\n            select(this.axis).call(axisBottom(this.props.scale).ticks(this.props.ticks));\r\n            if (this.props.rotateScaleText) {\r\n                select(this.axis).selectAll('text').attr('dx', '-.8em').attr('dy', '.15em')\r\n                    .style('text-anchor', 'end').attr('transform', 'rotate(-65)');\r\n            }\r\n\r\n            if (this.props.grid) {\r\n                select(this.grid).call(axisBottom(this.props.scale)\r\n                    .ticks(this.props.ticks).tickSize(-this.props.height).tickFormat('' as null));\r\n            }\r\n        } else if (this.props.axisType === 'y') {\r\n            select(this.axis).call(axisLeft(this.props.scale).ticks(this.props.ticks));\r\n            if (this.props.grid) {\r\n                select(this.grid).call(axisLeft(this.props.scale)\r\n                    .ticks(this.props.ticks).tickSize(-this.props.width).tickFormat('' as null));\r\n            }\r\n        }\r\n    }\r\n}\r\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationSecond} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity, identity),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && value >= value) {\n        if (min === undefined) {\n          min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        if (min === undefined) {\n          min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function(x) {\n  return x;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null\n          && value >= value\n          && (max === undefined || max < value)) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && value >= value\n          && (max === undefined || max < value)) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null\n          && value >= value\n          && (min === undefined || min > value)) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && value >= value\n          && (min === undefined || min > value)) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","/**\r\n * Returns on array of key values out of an input array and a key.\r\n * Null values are removed.\r\n * @export\r\n * @template T\r\n * @template K\r\n * @param {T[]} array user defined array\r\n * @param {K} key\r\n * @returns {Array<T[K]>}\r\n */\r\nexport function pluck<T, K extends keyof T> (array: T[], key: K): Array<T[K]> {\r\n    return array.map((el) => {\r\n        if (el[key] !== null) return el[key];\r\n    });\r\n}\r\n/**\r\n * Returns on array of unique key values out of an input array and a key.\r\n * @export\r\n * @template T\r\n * @template K\r\n * @param {T[]} array\r\n * @param {K} key\r\n * @returns {Array<T[K]>}\r\n */\r\nexport function pluckUnique<T, K extends keyof T> (array: T[], key: K): Array<T[K]> {\r\n    return [...new Set(pluck(array, key))];\r\n}\r\n","import { h, Component } from 'preact';\r\nimport { Margin } from '../types';\r\nimport { Axis } from '../Axis';\r\nimport { scaleLinear, scaleBand, ScaleBand, ScaleLinear } from 'd3-scale';\r\nimport { max } from 'd3-array';\r\nimport { pluck } from '../Utils/pluck';\r\n\r\ndeclare const ResizeObserver: any;\r\n\r\ninterface DiffBarProps {\r\n    name: string;\r\n    data: Array<{name: string, value: number}>;\r\n\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    ticks?: number;\r\n}\r\n\r\ninterface DiffBarDefaultProps {\r\n\r\n    height: number;\r\n    width: number;\r\n    margin: Margin;\r\n    ticks: number;\r\n}\r\n\r\ninterface DiffBarState {\r\n    width: number;\r\n    innerWidth: number;\r\n    height: number;\r\n    innerHeight: number;\r\n}\r\nexport class DifferenceChart extends Component<DiffBarProps, DiffBarState> {\r\n    public static defaultProps: DiffBarDefaultProps = {\r\n        height: 800,\r\n        width: 600,\r\n        margin: {\r\n            top: 25,\r\n            right: 25,\r\n            bottom: 50,\r\n            left: 25,\r\n        },\r\n        ticks: 8,\r\n    };\r\n    private chartSVG: HTMLBaseElement;\r\n    private resizeOb: any;\r\n\r\n    constructor (props: DiffBarProps) {\r\n        super(props);\r\n        const innerWidth = props.width - props.margin.right - props.margin.left;\r\n        const innerHeight = props.height - props.margin.top - props.margin.bottom;\r\n        this.state = {\r\n            height: props.height,\r\n            innerHeight,\r\n            width: props.width,\r\n            innerWidth,\r\n        };\r\n    }\r\n    public render ({ margin, ticks, data, name }: DiffBarProps,\r\n                   { height, width, innerHeight, innerWidth }: DiffBarState) {\r\n\r\n        const absoluteXValues = data.map((d) => Math.abs(d.value));\r\n        const xMax = max(absoluteXValues);\r\n\r\n        const xDomain = [-xMax, xMax];\r\n        const yDomain = pluck(data, 'name');\r\n\r\n        const xScale = scaleLinear()\r\n            .range([0, innerWidth])\r\n            .domain(xDomain)\r\n            .nice();\r\n\r\n        const yScale = scaleBand()\r\n            .rangeRound([innerHeight, 0])\r\n            .paddingInner(0.1)\r\n            .domain(yDomain);\r\n\r\n        return (\r\n            <svg ref={(svg) => this.chartSVG = svg} class={name} height={height} width={width}>\r\n                <g transform={`translate(${margin.left}, ${margin.top})`}>\r\n                    {\r\n                        data &&\r\n                            this.createBars(yScale, xScale)\r\n                    }\r\n                    <Axis height={innerHeight} axisType='x' scale={xScale} rotateScaleText={false} grid={true}/>\r\n                    <Axis width={innerWidth} axisType='y' scale={yScale} ticks={ticks} offsetX={xScale(0)}/>\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n    public componentDidMount () {\r\n        this.resizeChart();\r\n        this.resizeOb = new ResizeObserver((entries: any[]) => {\r\n            for (const entry of entries) {\r\n                const cr = entry.contentRect;\r\n                const width = cr.width;\r\n                const height = cr.height;\r\n                if (width !== this.state.width || height !== this.state.height) {\r\n                    this.resizeChart();\r\n                }\r\n            }\r\n        });\r\n        this.resizeOb.observe(this.chartSVG.parentElement);\r\n    }\r\n\r\n    public componentWillUnmount () {\r\n        this.resizeOb.disconnect();\r\n    }\r\n\r\n    private resizeChart () {\r\n        const parent = this.chartSVG.parentElement;\r\n        const cr = parent.getBoundingClientRect();\r\n        const width = cr.width;\r\n        const height = cr.height;\r\n        const innerWidth = width - this.props.margin.left - this.props.margin.right;\r\n        const innerHeight = height - this.props.margin.top - this.props.margin.bottom;\r\n        this.setState({innerWidth, innerHeight, height, width});\r\n    }\r\n\r\n    private createBars = (y: ScaleBand<string>, x: ScaleLinear<number, number>) => {\r\n        return this.props.data.map((entry) =>\r\n            <rect height={y.bandwidth()} x={x(Math.min(0, entry.value))} y={y(entry.name as string)}\r\n                width={Math.abs(x(entry.value) - x(0))} fill={entry.value < 0 ? 'darkred' : 'green'}\r\n                title={entry.value.toFixed(4)}>\r\n            </rect>);\r\n    }\r\n}\r\n","export const colourArray = [\r\n    '#4f8cff', '#d3fe14', '#fe1c3a', '#fdd8eb', '#01a571', '#e609fd', '#c48c0d', '#70fffe', '#968791', '#b7ce9d',\r\n    '#c7a2fe', '#fb7fb4', '#26d10a', '#24b6cb', '#feaa83', '#bed8fc', '#47ffa4', '#c76f5e', '#fec82c', '#799922',\r\n    '#fe7314', '#8aa9a0', '#f219a8', '#ae74bc', '#8fa2ca', '#21d4b3', '#dfefe9', '#9873fd', '#959064', '#c4b2b0',\r\n    '#b1c60c', '#fd82fe', '#ffdea7', '#cafc9d', '#dca7d0', '#69c979', '#55ff07', '#c16d91', '#9cd2d1', '#70c3ff',\r\n    '#c9ad70', '#ff7874', '#fc9c0f', '#b2ffd6', '#ee4c7a', '#d7949a', '#e2cafd', '#08a90f', '#6a94a2', '#2cdefb',\r\n    '#139ad4', '#9eb35d', '#de67c5', '#c05afe', '#ae98c1', '#b3bbc8', '#21a499', '#d88b52', '#969cfe', '#77a374',\r\n    '#feb4be', '#90e466', '#f7ef6a', '#e6532c', '#ccaf23', '#e9e9fd', '#8986c4', '#b08978', '#e3d4c9', '#b2baf7',\r\n    '#cbcf67', '#baf0fe', '#48f8cf', '#ce6e0c', '#a7ac90', '#8dd9ae', '#e2f2c4', '#89b5c6', '#f7ba67', '#72b93c',\r\n    '#bac6bc', '#ffb0fe', '#858f84', '#d08edc', '#a09538', '#939aa5', '#bb8ba8', '#5ab597', '#b08148', '#69a5eb',\r\n    '#d4c2d5', '#fd0edf', '#ae85e1', '#e3bc9c', '#4ca14f', '#dadd11', '#d869ec', '#a1a90e', '#60c2bf', '#8ebc96',\r\n];\r\n","import { h, Component } from 'preact';\r\nimport { Margin, GroupedDataObject } from '../types';\r\nimport { Axis } from '../Axis';\r\nimport { scaleLinear, scaleBand, ScaleBand, ScaleLinear, scaleOrdinal, ScaleOrdinal } from 'd3-scale';\r\nimport { max } from 'd3-array';\r\nimport { pluckUnique } from '../Utils/pluck';\r\nimport { colourArray } from '../colors';\r\n\r\ndeclare const ResizeObserver: any;\r\n\r\ninterface GroupedBarProps {\r\n    name: string;\r\n    data: GroupedDataObject;\r\n    groups: string[];\r\n    legendReference: {[key: string]: string};\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    ticks?: number;\r\n}\r\n\r\ninterface GroupedBarDefaultProps {\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    ticks?: number;\r\n}\r\n\r\ninterface GroupedBarState {\r\n    width: number;\r\n    innerWidth: number;\r\n    height: number;\r\n    innerHeight: number;\r\n}\r\nexport class GroupedBar extends Component<GroupedBarProps, GroupedBarState> {\r\n    public static defaultProps: GroupedBarDefaultProps = {\r\n        height: 500,\r\n        width: 500,\r\n        margin: {\r\n            top: 25,\r\n            right: 25,\r\n            bottom: 75,\r\n            left: 50,\r\n        },\r\n        ticks: 6,\r\n    };\r\n    private chartSVG: HTMLBaseElement;\r\n    private resizeOb: any;\r\n\r\n    constructor (props: GroupedBarProps) {\r\n        super(props);\r\n        const innerWidth = props.width - props.margin.right - props.margin.left;\r\n        const innerHeight = props.height - props.margin.top - props.margin.bottom;\r\n        this.state = {\r\n            height: props.height,\r\n            innerHeight,\r\n            width: props.width,\r\n            innerWidth,\r\n        };\r\n    }\r\n    public render ({ margin, ticks, data, groups, legendReference, name }: GroupedBarProps,\r\n                   { height, width, innerHeight, innerWidth }: GroupedBarState) {\r\n        let yMax = 0;\r\n\r\n        for (const key of groups) {\r\n            const groupMax = max(data[key], (d) => d.value);\r\n            yMax = groupMax > yMax ? groupMax : yMax;\r\n        }\r\n\r\n        const names = pluckUnique(data[groups[0]], 'name') as string[];\r\n\r\n        const yScale = scaleLinear()\r\n            .range([innerHeight, 0])\r\n            .domain([0, yMax])\r\n            .nice();\r\n\r\n        const xScale = scaleBand()\r\n            .rangeRound([0, innerWidth])\r\n            .paddingInner(0.1)\r\n            .domain(groups);\r\n\r\n        const x1 = scaleBand()\r\n            .padding(0.05)\r\n            .domain(names)\r\n            .rangeRound([0, xScale.bandwidth()]);\r\n\r\n        const colourScale = scaleOrdinal(colourArray);\r\n        return (\r\n            <svg ref={(svg) => this.chartSVG = svg} class={name} height={height} width={width}>\r\n                <g transform={`translate(${margin.left}, ${margin.top})`}>\r\n                    <Axis height={innerHeight} axisType='x' scale={xScale} rotateScaleText={true}/>\r\n                    <Axis width={innerWidth} axisType='y' scale={yScale} grid={true} ticks={ticks}/>\r\n                    {\r\n                        data &&\r\n                            this.createBars(xScale, x1, yScale, innerHeight, groups, colourScale)\r\n                    }\r\n                    {\r\n                        names &&\r\n                            names.map((barName, idx) =>\r\n                                <g transform={`translate(0, ${idx * 20})`}>\r\n                                    <rect x={innerWidth + margin.right - 18} width={18} height={15}\r\n                                        strokeWidth='1px' fill={colourScale(barName)}>\r\n                                    </rect>\r\n                                    <text x={innerWidth + margin.right - 24} y={9} dy='0.35em' text-anchor='end'>\r\n                                        {legendReference[barName]}\r\n                                    </text>\r\n                                </g>)\r\n                    }\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n    public componentDidMount () {\r\n        this.resizeChart();\r\n        this.resizeOb = new ResizeObserver((entries: any[]) => {\r\n            for (const entry of entries) {\r\n                const cr = entry.contentRect;\r\n                const width = cr.width;\r\n                const height = cr.height;\r\n                if (width !== this.state.width || height !== this.state.height) {\r\n                    this.resizeChart();\r\n                }\r\n            }\r\n        });\r\n        this.resizeOb.observe(this.chartSVG.parentElement);\r\n    }\r\n\r\n    public componentWillUnmount () {\r\n        this.resizeOb.disconnect();\r\n    }\r\n\r\n    private resizeChart () {\r\n        const parent = this.chartSVG.parentElement;\r\n        const cr = parent.getBoundingClientRect();\r\n        const width = cr.width;\r\n        const height = cr.height;\r\n        const innerWidth = width - this.props.margin.left - this.props.margin.right;\r\n        const innerHeight = height - this.props.margin.top - this.props.margin.bottom;\r\n        this.setState({innerWidth, innerHeight, height, width});\r\n    }\r\n\r\n    private createBars = (x0: ScaleBand<string>, x1: ScaleBand<string>, y: ScaleLinear<number, number>,\r\n                          height: number, groups: string[], colourScale: ScaleOrdinal<string, string>) => {\r\n        return groups.map((group) =>\r\n            <g transform={`translate(${x0(group)}, 0)`}>\r\n                {\r\n                    this.props.data[group].map((entry) =>\r\n                        <rect width={x1.bandwidth()} x={x1(entry.name as string)} y={y(entry.value)}\r\n                            height={height - y(entry.value)} fill={colourScale(entry.name as string)}\r\n                            title={entry.value.toFixed(4)}>\r\n                        </rect>)\r\n                }\r\n            </g>,\r\n        );\r\n    }\r\n}\r\n","import { h, Component } from 'preact';\r\nimport { Axis } from '../Axis';\r\nimport { DataArray, Margin } from '../types';\r\nimport { scaleLinear } from 'd3-scale';\r\nimport { min, max, histogram } from 'd3-array';\r\nimport { css } from 'goober';\r\n\r\nconst bar = css({\r\n    'fill-opacity': 1,\r\n    'stroke-width': '1px',\r\n});\r\n\r\ndeclare const ResizeObserver: any;\r\n\r\ninterface HistogramProps {\r\n    name: string;\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    x: string;\r\n    data: DataArray;\r\n    ticks?: number;\r\n    barColour?: string;\r\n    barOutline?: string;\r\n}\r\n\r\ninterface HistogramDefaultProps {\r\n    height: number;\r\n    width: number;\r\n    margin: Margin;\r\n    ticks: number;\r\n    barColour: string;\r\n    barOutline: string;\r\n}\r\n\r\ninterface HistogramState {\r\n    width: number;\r\n    innerWidth: number;\r\n    height: number;\r\n    innerHeight: number;\r\n}\r\n\r\nexport class Histogram extends Component<HistogramProps, HistogramState> {\r\n\r\n    public static defaultProps: HistogramDefaultProps = {\r\n        height: 250,\r\n        width: 350,\r\n        margin: {\r\n            top: 25,\r\n            right: 25,\r\n            bottom: 75,\r\n            left: 50,\r\n        },\r\n        ticks: 8,\r\n        barColour: 'steelblue',\r\n        barOutline: 'black',\r\n    };\r\n    private chartSVG: HTMLBaseElement;\r\n    private resizeOb: any;\r\n\r\n    constructor (props: HistogramProps) {\r\n        super(props);\r\n        const innerWidth = props.width - props.margin.left - props.margin.right;\r\n        const innerHeight = props.height - props.margin.top - props.margin.bottom;\r\n        this.state = {\r\n            width: props.width,\r\n            height: props.height,\r\n            innerWidth,\r\n            innerHeight,\r\n        };\r\n    }\r\n\r\n    public render ({name, margin, x, data, ticks, barColour, barOutline}: HistogramProps,\r\n                   {height, width, innerHeight, innerWidth}: HistogramState) {\r\n        const valuesArray = data.map((d) => d[x]);\r\n        const xMin = min(valuesArray);\r\n        const xMax = max(valuesArray) * 1.01;\r\n\r\n        const xScale = scaleLinear().rangeRound([0, innerWidth]).domain([xMin, xMax]).nice();\r\n        const bins = histogram()\r\n            .domain(xScale.domain() as [number, number])\r\n            .thresholds(xScale.ticks(ticks))(valuesArray);\r\n        const yMax = max(bins, (d) => d.length);\r\n        const yScale = scaleLinear().range([innerHeight, 0]).domain([0, yMax]);\r\n\r\n        const barWidth = xScale(bins[0].x1) - xScale(bins[0].x0);\r\n        return (\r\n            <svg ref={(svg) => this.chartSVG = svg} class={name} height={height} width={width}>\r\n                <g transform={`translate(${margin.left}, ${margin.top})`}>\r\n                    <Axis height={innerHeight} axisType='x' scale={xScale} ticks={ticks} rotateScaleText={true}/>\r\n                    <Axis width={innerWidth} axisType='y' scale={yScale} grid={true} ticks={8}/>\r\n                    {\r\n                        barWidth &&\r\n                        bins.map((bin) =>\r\n                            <rect class={bar} x='1' width={barWidth} height={innerHeight - yScale(bin.length)}\r\n                                transform={`translate(${xScale(bin.x0)}, ${yScale(bin.length)})`}\r\n                                fill={barColour} stroke={barOutline}>\r\n                            </rect>,\r\n                        )\r\n                    }\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    public componentDidMount () {\r\n        this.resizeChart();\r\n        this.resizeOb = new ResizeObserver((entries: any[]) => {\r\n            for (const entry of entries) {\r\n                const cr = entry.contentRect;\r\n                const width = cr.width;\r\n                const height = cr.height;\r\n                if (width !== this.state.width || height !== this.state.height) {\r\n                    this.resizeChart();\r\n                }\r\n            }\r\n        });\r\n        this.resizeOb.observe(this.chartSVG.parentElement);\r\n    }\r\n\r\n    public componentWillUnmount () {\r\n        this.resizeOb.disconnect();\r\n    }\r\n\r\n    private resizeChart () {\r\n        const parent = this.chartSVG.parentElement;\r\n        const cr = parent.getBoundingClientRect();\r\n        const width = cr.width;\r\n        const height = cr.height;\r\n        const innerWidth = width - this.props.margin.left - this.props.margin.right;\r\n        const innerHeight = height - this.props.margin.top - this.props.margin.bottom;\r\n        this.setState({innerWidth, innerHeight, height, width});\r\n    }\r\n}\r\n","import {slice} from \"./array\";\nimport bisect from \"./bisect\";\nimport constant from \"./constant\";\nimport extent from \"./extent\";\nimport identity from \"./identity\";\nimport range from \"./range\";\nimport {tickStep} from \"./ticks\";\nimport sturges from \"./threshold/sturges\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, x1, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import { h, Component } from 'preact';\r\nimport { Margin, GroupedDataObject } from '../types';\r\nimport { Axis } from '../Axis';\r\nimport { scaleLinear, scaleBand, ScaleBand, ScaleLinear, scaleOrdinal, ScaleOrdinal } from 'd3-scale';\r\nimport { max } from 'd3-array';\r\nimport { pluckUnique } from '../Utils/pluck';\r\nimport { colourArray } from '../colors';\r\n\r\ndeclare const ResizeObserver: any;\r\n\r\ninterface HorizontalBarProps {\r\n    name: string;\r\n    data: GroupedDataObject;\r\n    groups: string[];\r\n    legendReference: {[key: string]: string};\r\n\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    ticks?: number;\r\n}\r\n\r\ninterface HorizontalBarDefaultProps {\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    ticks?: number;\r\n}\r\n\r\ninterface HorizontalBarState {\r\n    width: number;\r\n    innerWidth: number;\r\n    height: number;\r\n    innerHeight: number;\r\n}\r\nexport class HorizontalBar extends Component<HorizontalBarProps, HorizontalBarState> {\r\n    public static defaultProps: HorizontalBarDefaultProps = {\r\n        height: 800,\r\n        width: 600,\r\n        margin: {\r\n            top: 25,\r\n            right: 25,\r\n            bottom: 50,\r\n            left: 150,\r\n        },\r\n        ticks: 6,\r\n    };\r\n    private chartSVG: HTMLBaseElement;\r\n    private resizeOb: any;\r\n\r\n    constructor (props: HorizontalBarProps) {\r\n        super(props);\r\n        const innerWidth = props.width - props.margin.right - props.margin.left;\r\n        const innerHeight = props.height - props.margin.top - props.margin.bottom;\r\n        this.state = {\r\n            height: props.height,\r\n            innerHeight,\r\n            width: props.width,\r\n            innerWidth,\r\n        };\r\n    }\r\n    public render ({ margin, ticks, data, groups, name, legendReference }: HorizontalBarProps,\r\n                   { height, width, innerHeight, innerWidth }: HorizontalBarState) {\r\n        let xMax = 0;\r\n\r\n        for (const key of groups) {\r\n            const groupMax = max(data[key], (d) => d.value);\r\n            xMax = groupMax > xMax ? groupMax : xMax;\r\n        }\r\n\r\n        const names = pluckUnique(data[groups[0]], 'name') as string[];\r\n\r\n        const xScale = scaleLinear()\r\n            .range([0, innerWidth])\r\n            .domain([0, xMax])\r\n            .nice();\r\n\r\n        const yScale = scaleBand()\r\n            .rangeRound([innerHeight, 0])\r\n            .paddingInner(0.1)\r\n            .domain(groups);\r\n\r\n        const y1 = scaleBand()\r\n            .padding(0.05)\r\n            .domain(names)\r\n            .rangeRound([0, yScale.bandwidth()]);\r\n\r\n        const colourScale = scaleOrdinal(colourArray);\r\n        return (\r\n            <svg ref={(svg) => this.chartSVG = svg} class={name} height={height} width={width}>\r\n                <g transform={`translate(${margin.left}, ${margin.top})`}>\r\n                    <Axis height={innerHeight} axisType='x' scale={xScale} rotateScaleText={false} grid={true}/>\r\n                    <Axis width={innerWidth} axisType='y' scale={yScale} ticks={ticks}/>\r\n                    {\r\n                        data &&\r\n                            this.createBars(yScale, y1, xScale, groups, colourScale)\r\n                    }\r\n                    {\r\n                        names &&\r\n                            names.map((barName, idx) =>\r\n                                <g transform={`translate(0, ${idx * 20})`}>\r\n                                    <rect x={innerWidth + margin.right - 18} width={18} height={15} stroke='black'\r\n                                        strokeWidth='1px' fill={colourScale(barName)}>\r\n                                    </rect>\r\n                                    <text x={innerWidth + margin.right - 24} y={9} dy='0.35em' fill='whitesmoke'\r\n                                        text-anchor='end'>\r\n                                        {legendReference[barName]}\r\n                                    </text>\r\n                                </g>)\r\n                    }\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n    public componentDidMount () {\r\n        this.resizeChart();\r\n        this.resizeOb = new ResizeObserver((entries: any[]) => {\r\n            for (const entry of entries) {\r\n                const cr = entry.contentRect;\r\n                const width = cr.width;\r\n                const height = cr.height;\r\n                if (width !== this.state.width || height !== this.state.height) {\r\n                    this.resizeChart();\r\n                }\r\n            }\r\n        });\r\n        this.resizeOb.observe(this.chartSVG.parentElement);\r\n    }\r\n\r\n    public componentWillUnmount () {\r\n        this.resizeOb.disconnect();\r\n    }\r\n\r\n    private resizeChart () {\r\n        const parent = this.chartSVG.parentElement;\r\n        const cr = parent.getBoundingClientRect();\r\n        const width = cr.width;\r\n        const height = cr.height;\r\n        const innerWidth = width - this.props.margin.left - this.props.margin.right;\r\n        const innerHeight = height - this.props.margin.top - this.props.margin.bottom;\r\n        this.setState({innerWidth, innerHeight, height, width});\r\n    }\r\n\r\n    private createBars = (y0: ScaleBand<string>, y1: ScaleBand<string>, x: ScaleLinear<number, number>,\r\n                          groups: string[], colourScale: ScaleOrdinal<string, string>) => {\r\n        return groups.map((group) =>\r\n            <g transform={`translate(0, ${y0(group)})`}>\r\n                {\r\n                    this.props.data[group].map((entry) =>\r\n                        <rect height={y1.bandwidth()} x={0} y={y1(entry.name as string)}\r\n                            width={x(entry.value)} fill={colourScale(entry.name as string)}\r\n                            title={entry.value.toFixed(4)}>\r\n                        </rect>)\r\n                }\r\n            </g>,\r\n        );\r\n    }\r\n}\r\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport BrushEvent from \"./event\";\nimport noevent, {nopropagation} from \"./noevent\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function(xy) { return xy; },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .on(\"mousedown.brush touchstart.brush\", started);\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && empty(selection1) ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 && selection1 ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 == null || empty(selection1) ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (event.touches) { if (event.changedTouches.length < event.touches.length) return noevent(); }\n    else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx,\n        dy,\n        moving,\n        shifting = signX && signY && event.shiftKey,\n        lockX,\n        lockY,\n        point0 = mouse(that),\n        point = point0,\n        emit = emitter(that, arguments).beforestart();\n\n    if (type === \"overlay\") {\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      group\n          .on(\"touchmove.brush\", moved, true)\n          .on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = select(event.view)\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","import { h, Component } from 'preact';\r\nimport { Axis } from '../Axis';\r\nimport { Margin, DataArray, NumberObject } from '../types';\r\nimport { scaleLinear } from 'd3-scale';\r\nimport { extent } from 'd3-array';\r\nimport { select, event } from 'd3-selection';\r\nimport { brush } from 'd3-brush';\r\nimport { line, curveNatural } from 'd3-shape';\r\nimport { colourArray } from '../colors';\r\n\r\ndeclare const ResizeObserver: any;\r\n\r\ninterface LineScatterProps {\r\n    name: string;\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    x: string;\r\n    y: string;\r\n    data: DataArray[];\r\n    radius?: number;\r\n    labels?: boolean;\r\n    legendReference?: string[];\r\n}\r\n\r\ninterface LineScatterDefaultProps {\r\n    height: number;\r\n    width: number;\r\n    margin: Margin;\r\n    radius: number;\r\n    labels: boolean;\r\n}\r\n\r\ninterface LineScatterState {\r\n    width: number;\r\n    innerWidth: number;\r\n    height: number;\r\n    innerHeight: number;\r\n    xDomain: [number, number];\r\n    yDomain: [number, number];\r\n}\r\n\r\nexport class LineScatter extends Component<LineScatterProps, LineScatterState> {\r\n\r\n    public static defaultProps: LineScatterDefaultProps = {\r\n        height: 500,\r\n        width: 500,\r\n        margin: {\r\n            top: 25,\r\n            right: 25,\r\n            bottom: 75,\r\n            left: 75,\r\n        },\r\n        radius: 5,\r\n        labels: false,\r\n    };\r\n    private chartSVG: any;\r\n    private resizeOb: any;\r\n    private brush: SVGGElement;\r\n    private brushSetup: any;\r\n    private xScale: any;\r\n    private yScale: any;\r\n\r\n    constructor (props: LineScatterProps) {\r\n        super(props);\r\n        const innerWidth = props.width - props.margin.left - props.margin.right;\r\n        const innerHeight = props.height - props.margin.top - props.margin.bottom;\r\n        const flatData = props.data.flat();\r\n        const xDomain = extent(flatData, (d) => d[props.x]);\r\n        const xDomainPadded = [xDomain[0] * 0.95, xDomain[1] * 1.05] as [number, number];\r\n        const yDomain = extent(flatData, (d) => d[props.y]);\r\n        const yDomainPadded = [yDomain[0] * 0.95, yDomain[1] * 1.05] as [number, number];\r\n\r\n        this.state = {\r\n            width: props.width,\r\n            height: props.height,\r\n            innerWidth,\r\n            innerHeight,\r\n            xDomain: xDomainPadded,\r\n            yDomain: yDomainPadded,\r\n        };\r\n    }\r\n\r\n    public render (props: LineScatterProps,\r\n                   {height, width, innerHeight, innerWidth, xDomain, yDomain}: LineScatterState) {\r\n\r\n        this.xScale = scaleLinear()\r\n            .range([0, innerWidth])\r\n            .domain(xDomain);\r\n\r\n        this.yScale = scaleLinear()\r\n            .range([innerHeight, 0])\r\n            .domain(yDomain);\r\n\r\n        const lineFunc = line<NumberObject>()\r\n            .x((d) => this.xScale(d[props.x]))\r\n            .y((d) => this.yScale(d[props.y]))\r\n            .curve(curveNatural);\r\n\r\n        return (\r\n            <svg ref={(svg) => this.chartSVG = svg} class={props.name} height={height} width={width}>\r\n                <g transform={`translate(${props.margin.left}, ${props.margin.top})`}>\r\n                    <clipPath id={`${props.name}_cp`}>\r\n                        <rect width={innerWidth} height={innerHeight} />\r\n                    </clipPath>\r\n                    <Axis height={innerHeight} axisType='x' scale={this.xScale} grid={true}/>\r\n                    <Axis width={innerWidth} axisType='y' scale={this.yScale} grid={true}/>\r\n                    {\r\n                        props.data.map((dArray, groupIdx) => (\r\n                            <g>\r\n                                <path d={lineFunc(dArray)} clip-path={`url(#${props.name}_cp)`}\r\n                                    stroke-linecap='round' stroke={colourArray[groupIdx]} fill='none'\r\n                                    stroke-width='2px'/>\r\n                                {\r\n                                    dArray.map((point, index) =>\r\n                                        <circle stroke-width='1px' r={props.radius} cx={this.xScale(point[props.x])}\r\n                                            cy={this.yScale(point[props.y])} key={index} fill={colourArray[groupIdx]}\r\n                                            clip-path={`url(#${props.name}_cp)`}/>)\r\n                                }\r\n                            </g>\r\n                            ),\r\n                        )\r\n                    }\r\n                    {\r\n                        props.labels &&\r\n                            <text x={innerWidth / 2} y={innerHeight + props.margin.bottom - 15}>\r\n                                {props.x.replace(/_/g, ' ')}\r\n                            </text>\r\n                    }\r\n                    {\r\n                        props.labels &&\r\n                            <text x={-innerHeight / 2} y={-props.margin.left + 15} transform='rotate(-90)'>\r\n                                {props.y.replace(/_/g, ' ')}\r\n                            </text>\r\n                    }\r\n                    {\r\n                        props.legendReference &&\r\n                            props.legendReference.map((title, idx) =>\r\n                                <g transform={`translate(0, ${idx * 20})`}>\r\n                                    <rect x={innerWidth + props.margin.right - 18} width={18} height={15}\r\n                                        strokeWidth='1px' fill={colourArray[idx]}>\r\n                                    </rect>\r\n                                    <text x={innerWidth + props.margin.right - 24} y={9} dy='0.35em'\r\n                                        text-anchor='end'>\r\n                                        {title.replace(/_/g, ' ')}\r\n                                    </text>\r\n                                </g>)\r\n                    }\r\n                    <g ref={(brushRef) => this.brush = brushRef} key={1}></g>\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    public componentDidMount () {\r\n        this.resizeChart();\r\n        this.resizeOb = new ResizeObserver((entries: any[]) => {\r\n            for (const entry of entries) {\r\n                const cr = entry.contentRect;\r\n                const width = cr.width;\r\n                const height = cr.height;\r\n                if (width !== this.state.width || height !== this.state.height) {\r\n                    this.resizeChart();\r\n                }\r\n            }\r\n        });\r\n        this.resizeOb.observe(this.chartSVG.parentElement);\r\n    }\r\n\r\n    public componentWillReceiveProps (newProps: LineScatterProps, newState: LineScatterState) {\r\n        const flatData = newProps.data.flat();\r\n        const xDomain = extent(flatData, (d) => d[newProps.x]);\r\n        const xDomainPadded = [xDomain[0] * 0.95, xDomain[1] * 1.05] as [number, number];\r\n        const yDomain = extent(flatData, (d) => d[newProps.y]);\r\n        const yDomainPadded = [yDomain[0] * 0.95, yDomain[1] * 1.05] as [number, number];\r\n        this.setState({yDomain: yDomainPadded, xDomain: xDomainPadded});\r\n    }\r\n\r\n    public componentWillUnmount () {\r\n        this.resizeOb.disconnect();\r\n    }\r\n\r\n    private resizeChart () {\r\n        const parent = this.chartSVG.parentElement;\r\n        const cr = parent.getBoundingClientRect();\r\n        const width = cr.width;\r\n        const height = cr.height;\r\n        const innerWidth = width - this.props.margin.left - this.props.margin.right;\r\n        const innerHeight = height - this.props.margin.top - this.props.margin.bottom;\r\n        this.brushSetup = brush()\r\n        .extent([\r\n            [0, 0],\r\n            [innerWidth, innerHeight],\r\n        ])\r\n        .handleSize(10)\r\n        .on('end', () => {\r\n            const s = event.selection;\r\n            if (s === null) {\r\n                const flatData = this.props.data.flat();\r\n                const xDomain = extent(flatData, (d) => d[this.props.x]);\r\n                const xDomainPadded = [xDomain[0] * 0.95, xDomain[1] * 1.05] as [number, number];\r\n                const yDomain = extent(flatData, (d) => d[this.props.y]);\r\n                const yDomainPadded = [yDomain[0] * 0.95, yDomain[1] * 1.05] as [number, number];\r\n                this.setState({xDomain: xDomainPadded, yDomain: yDomainPadded});\r\n            } else {\r\n                const xDomain = [s[0][0], s[1][0]].map(this.xScale.invert, this.xScale) as [number, number];\r\n                const yDomain = [s[1][1], s[0][1]].map(this.yScale.invert, this.yScale) as [number, number];\r\n                select(this.brush).call(this.brushSetup.move, null);\r\n                this.setState({xDomain, yDomain});\r\n            }\r\n        });\r\n        select(this.brush).call(this.brushSetup);\r\n        this.setState({innerWidth, innerHeight, height, width});\r\n    }\r\n}\r\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * The unique id is used for unique hashes.\n */\nvar uniqueId = 0;\n/**\n * Tag styles with this string to get unique hashes.\n */\nexport var IS_UNIQUE = '__DO_NOT_DEDUPE_STYLE__';\nvar upperCasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar interpolatePattern = /&/g;\nvar escapePattern = /[ !#$%&()*+,./;<=>?@[\\]^`{|}~\"'\\\\]/g;\nvar propLower = function (m) { return \"-\" + m.toLowerCase(); };\n/**\n * CSS properties that are valid unit-less numbers.\n */\nvar cssNumberProperties = [\n    'animation-iteration-count',\n    'box-flex',\n    'box-flex-group',\n    'column-count',\n    'counter-increment',\n    'counter-reset',\n    'flex',\n    'flex-grow',\n    'flex-positive',\n    'flex-shrink',\n    'flex-negative',\n    'font-weight',\n    'line-clamp',\n    'line-height',\n    'opacity',\n    'order',\n    'orphans',\n    'tab-size',\n    'widows',\n    'z-index',\n    'zoom',\n    // SVG properties.\n    'fill-opacity',\n    'stroke-dashoffset',\n    'stroke-opacity',\n    'stroke-width'\n];\n/**\n * Map of css number properties.\n */\nvar CSS_NUMBER = Object.create(null);\n// Add vendor prefixes to all unit-less properties.\nfor (var _i = 0, _a = ['-webkit-', '-ms-', '-moz-', '-o-', '']; _i < _a.length; _i++) {\n    var prefix = _a[_i];\n    for (var _b = 0, cssNumberProperties_1 = cssNumberProperties; _b < cssNumberProperties_1.length; _b++) {\n        var property = cssNumberProperties_1[_b];\n        CSS_NUMBER[prefix + property] = true;\n    }\n}\n/**\n * Escape a CSS class name.\n */\nexport var escape = function (str) { return str.replace(escapePattern, '\\\\$&'); };\n/**\n * Transform a JavaScript property into a CSS property.\n */\nexport function hyphenate(propertyName) {\n    return propertyName\n        .replace(upperCasePattern, propLower)\n        .replace(msPattern, '-ms-'); // Internet Explorer vendor prefix.\n}\n/**\n * Generate a hash value from a string.\n */\nexport function stringHash(str) {\n    var value = 5381;\n    var len = str.length;\n    while (len--)\n        value = (value * 33) ^ str.charCodeAt(len);\n    return (value >>> 0).toString(36);\n}\n/**\n * Transform a style string to a CSS string.\n */\nfunction styleToString(key, value) {\n    if (typeof value === 'number' && value !== 0 && !CSS_NUMBER[key]) {\n        return key + \":\" + value + \"px\";\n    }\n    return key + \":\" + value;\n}\n/**\n * Sort an array of tuples by first value.\n */\nfunction sortTuples(value) {\n    return value.sort(function (a, b) { return a[0] > b[0] ? 1 : -1; });\n}\n/**\n * Categorize user styles.\n */\nfunction parseStyles(styles, hasNestedStyles) {\n    var properties = [];\n    var nestedStyles = [];\n    var isUnique = false;\n    // Sort keys before adding to styles.\n    for (var _i = 0, _a = Object.keys(styles); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var value = styles[key];\n        if (value !== null && value !== undefined) {\n            if (key === IS_UNIQUE) {\n                isUnique = true;\n            }\n            else if (typeof value === 'object' && !Array.isArray(value)) {\n                nestedStyles.push([key.trim(), value]);\n            }\n            else {\n                properties.push([hyphenate(key.trim()), value]);\n            }\n        }\n    }\n    return {\n        styleString: stringifyProperties(sortTuples(properties)),\n        nestedStyles: hasNestedStyles ? nestedStyles : sortTuples(nestedStyles),\n        isUnique: isUnique\n    };\n}\n/**\n * Stringify an array of property tuples.\n */\nfunction stringifyProperties(properties) {\n    return properties.map(function (_a) {\n        var name = _a[0], value = _a[1];\n        if (!Array.isArray(value))\n            return styleToString(name, value);\n        return value.map(function (x) { return styleToString(name, x); }).join(';');\n    }).join(';');\n}\n/**\n * Interpolate CSS selectors.\n */\nfunction interpolate(selector, parent) {\n    if (selector.indexOf('&') > -1) {\n        return selector.replace(interpolatePattern, parent);\n    }\n    return parent + \" \" + selector;\n}\n/**\n * Recursive loop building styles with deferred selectors.\n */\nfunction stylize(cache, selector, styles, list, parent) {\n    var _a = parseStyles(styles, !!selector), styleString = _a.styleString, nestedStyles = _a.nestedStyles, isUnique = _a.isUnique;\n    var pid = styleString;\n    if (selector.charCodeAt(0) === 64 /* @ */) {\n        var rule = cache.add(new Rule(selector, parent ? undefined : styleString, cache.hash));\n        // Nested styles support (e.g. `.foo > @media > .bar`).\n        if (styleString && parent) {\n            var style = rule.add(new Style(styleString, rule.hash, isUnique ? \"u\" + (++uniqueId).toString(36) : undefined));\n            list.push([parent, style]);\n        }\n        for (var _i = 0, nestedStyles_1 = nestedStyles; _i < nestedStyles_1.length; _i++) {\n            var _b = nestedStyles_1[_i], name = _b[0], value = _b[1];\n            pid += name + stylize(rule, name, value, list, parent);\n        }\n    }\n    else {\n        var key = parent ? interpolate(selector, parent) : selector;\n        if (styleString) {\n            var style = cache.add(new Style(styleString, cache.hash, isUnique ? \"u\" + (++uniqueId).toString(36) : undefined));\n            list.push([key, style]);\n        }\n        for (var _c = 0, nestedStyles_2 = nestedStyles; _c < nestedStyles_2.length; _c++) {\n            var _d = nestedStyles_2[_c], name = _d[0], value = _d[1];\n            pid += name + stylize(cache, name, value, list, key);\n        }\n    }\n    return pid;\n}\n/**\n * Register all styles, but collect for selector interpolation using the hash.\n */\nfunction composeStyles(container, selector, styles, isStyle, displayName) {\n    var cache = new Cache(container.hash);\n    var list = [];\n    var pid = stylize(cache, selector, styles, list);\n    var hash = \"f\" + cache.hash(pid);\n    var id = displayName ? displayName + \"_\" + hash : hash;\n    for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\n        var _a = list_1[_i], selector_1 = _a[0], style = _a[1];\n        var key = isStyle ? interpolate(selector_1, \".\" + escape(id)) : selector_1;\n        style.add(new Selector(key, style.hash, undefined, pid));\n    }\n    return { cache: cache, pid: pid, id: id };\n}\n/**\n * Cache to list to styles.\n */\nfunction join(arr) {\n    var res = '';\n    for (var i = 0; i < arr.length; i++)\n        res += arr[i];\n    return res;\n}\n/**\n * Noop changes.\n */\nvar noopChanges = {\n    add: function () { return undefined; },\n    change: function () { return undefined; },\n    remove: function () { return undefined; }\n};\n/**\n * Implement a cache/event emitter.\n */\nvar Cache = /** @class */ (function () {\n    function Cache(hash, changes) {\n        if (hash === void 0) { hash = stringHash; }\n        if (changes === void 0) { changes = noopChanges; }\n        this.hash = hash;\n        this.changes = changes;\n        this.sheet = [];\n        this.changeId = 0;\n        this._keys = [];\n        this._children = Object.create(null);\n        this._counters = Object.create(null);\n    }\n    Cache.prototype.add = function (style) {\n        var count = this._counters[style.id] || 0;\n        var item = this._children[style.id] || style.clone();\n        this._counters[style.id] = count + 1;\n        if (count === 0) {\n            this._children[item.id] = item;\n            this._keys.push(item.id);\n            this.sheet.push(item.getStyles());\n            this.changeId++;\n            this.changes.add(item, this._keys.length - 1);\n        }\n        else {\n            // Check if contents are different.\n            if (item.getIdentifier() !== style.getIdentifier()) {\n                throw new TypeError(\"Hash collision: \" + style.getStyles() + \" === \" + item.getStyles());\n            }\n            var oldIndex = this._keys.indexOf(style.id);\n            var newIndex = this._keys.length - 1;\n            var prevChangeId = this.changeId;\n            if (oldIndex !== newIndex) {\n                this._keys.splice(oldIndex, 1);\n                this._keys.push(style.id);\n                this.changeId++;\n            }\n            if (item instanceof Cache && style instanceof Cache) {\n                var prevChangeId_1 = item.changeId;\n                item.merge(style);\n                if (item.changeId !== prevChangeId_1) {\n                    this.changeId++;\n                }\n            }\n            if (this.changeId !== prevChangeId) {\n                if (oldIndex === newIndex) {\n                    this.sheet.splice(oldIndex, 1, item.getStyles());\n                }\n                else {\n                    this.sheet.splice(oldIndex, 1);\n                    this.sheet.splice(newIndex, 0, item.getStyles());\n                }\n                this.changes.change(item, oldIndex, newIndex);\n            }\n        }\n        return item;\n    };\n    Cache.prototype.remove = function (style) {\n        var count = this._counters[style.id];\n        if (count > 0) {\n            this._counters[style.id] = count - 1;\n            var item = this._children[style.id];\n            var index = this._keys.indexOf(item.id);\n            if (count === 1) {\n                delete this._counters[style.id];\n                delete this._children[style.id];\n                this._keys.splice(index, 1);\n                this.sheet.splice(index, 1);\n                this.changeId++;\n                this.changes.remove(item, index);\n            }\n            else if (item instanceof Cache && style instanceof Cache) {\n                var prevChangeId = item.changeId;\n                item.unmerge(style);\n                if (item.changeId !== prevChangeId) {\n                    this.sheet.splice(index, 1, item.getStyles());\n                    this.changeId++;\n                    this.changes.change(item, index, index);\n                }\n            }\n        }\n    };\n    Cache.prototype.merge = function (cache) {\n        for (var _i = 0, _a = cache._keys; _i < _a.length; _i++) {\n            var id = _a[_i];\n            this.add(cache._children[id]);\n        }\n        return this;\n    };\n    Cache.prototype.unmerge = function (cache) {\n        for (var _i = 0, _a = cache._keys; _i < _a.length; _i++) {\n            var id = _a[_i];\n            this.remove(cache._children[id]);\n        }\n        return this;\n    };\n    Cache.prototype.clone = function () {\n        return new Cache(this.hash).merge(this);\n    };\n    return Cache;\n}());\nexport { Cache };\n/**\n * Selector is a dumb class made to represent nested CSS selectors.\n */\nvar Selector = /** @class */ (function () {\n    function Selector(selector, hash, id, pid) {\n        if (id === void 0) { id = \"s\" + hash(selector); }\n        if (pid === void 0) { pid = ''; }\n        this.selector = selector;\n        this.hash = hash;\n        this.id = id;\n        this.pid = pid;\n    }\n    Selector.prototype.getStyles = function () {\n        return this.selector;\n    };\n    Selector.prototype.getIdentifier = function () {\n        return this.pid + \".\" + this.selector;\n    };\n    Selector.prototype.clone = function () {\n        return new Selector(this.selector, this.hash, this.id, this.pid);\n    };\n    return Selector;\n}());\nexport { Selector };\n/**\n * The style container registers a style string with selectors.\n */\nvar Style = /** @class */ (function (_super) {\n    __extends(Style, _super);\n    function Style(style, hash, id) {\n        if (id === void 0) { id = \"c\" + hash(style); }\n        var _this = _super.call(this, hash) || this;\n        _this.style = style;\n        _this.hash = hash;\n        _this.id = id;\n        return _this;\n    }\n    Style.prototype.getStyles = function () {\n        return this.sheet.join(',') + \"{\" + this.style + \"}\";\n    };\n    Style.prototype.getIdentifier = function () {\n        return this.style;\n    };\n    Style.prototype.clone = function () {\n        return new Style(this.style, this.hash, this.id).merge(this);\n    };\n    return Style;\n}(Cache));\nexport { Style };\n/**\n * Implement rule logic for style output.\n */\nvar Rule = /** @class */ (function (_super) {\n    __extends(Rule, _super);\n    function Rule(rule, style, hash, id, pid) {\n        if (style === void 0) { style = ''; }\n        if (id === void 0) { id = \"a\" + hash(rule + \".\" + style); }\n        if (pid === void 0) { pid = ''; }\n        var _this = _super.call(this, hash) || this;\n        _this.rule = rule;\n        _this.style = style;\n        _this.hash = hash;\n        _this.id = id;\n        _this.pid = pid;\n        return _this;\n    }\n    Rule.prototype.getStyles = function () {\n        return this.rule + \"{\" + this.style + join(this.sheet) + \"}\";\n    };\n    Rule.prototype.getIdentifier = function () {\n        return this.pid + \".\" + this.rule + \".\" + this.style;\n    };\n    Rule.prototype.clone = function () {\n        return new Rule(this.rule, this.style, this.hash, this.id, this.pid).merge(this);\n    };\n    return Rule;\n}(Cache));\nexport { Rule };\n/**\n * The FreeStyle class implements the API for everything else.\n */\nvar FreeStyle = /** @class */ (function (_super) {\n    __extends(FreeStyle, _super);\n    function FreeStyle(hash, debug, id, changes) {\n        if (hash === void 0) { hash = stringHash; }\n        if (debug === void 0) { debug = typeof process !== 'undefined' && process.env['NODE_ENV'] !== 'production'; }\n        if (id === void 0) { id = \"f\" + (++uniqueId).toString(36); }\n        var _this = _super.call(this, hash, changes) || this;\n        _this.hash = hash;\n        _this.debug = debug;\n        _this.id = id;\n        return _this;\n    }\n    FreeStyle.prototype.registerStyle = function (styles, displayName) {\n        var debugName = this.debug ? displayName : undefined;\n        var _a = composeStyles(this, '&', styles, true, debugName), cache = _a.cache, id = _a.id;\n        this.merge(cache);\n        return id;\n    };\n    FreeStyle.prototype.registerKeyframes = function (keyframes, displayName) {\n        return this.registerHashRule('@keyframes', keyframes, displayName);\n    };\n    FreeStyle.prototype.registerHashRule = function (prefix, styles, displayName) {\n        var debugName = this.debug ? displayName : undefined;\n        var _a = composeStyles(this, '', styles, false, debugName), cache = _a.cache, pid = _a.pid, id = _a.id;\n        var rule = new Rule(prefix + \" \" + escape(id), undefined, this.hash, undefined, pid);\n        this.add(rule.merge(cache));\n        return id;\n    };\n    FreeStyle.prototype.registerRule = function (rule, styles) {\n        this.merge(composeStyles(this, rule, styles, false).cache);\n    };\n    FreeStyle.prototype.registerCss = function (styles) {\n        this.merge(composeStyles(this, '', styles, false).cache);\n    };\n    FreeStyle.prototype.getStyles = function () {\n        return join(this.sheet);\n    };\n    FreeStyle.prototype.getIdentifier = function () {\n        return this.id;\n    };\n    FreeStyle.prototype.clone = function () {\n        return new FreeStyle(this.hash, this.debug, this.id, this.changes).merge(this);\n    };\n    return FreeStyle;\n}(Cache));\nexport { FreeStyle };\n/**\n * Exports a simple function to create a new instance.\n */\nexport function create(hash, debug, changes) {\n    return new FreeStyle(hash, debug, undefined, changes);\n}\n//# sourceMappingURL=free-style.js.map","import * as FreeStyle from 'free-style';\r\n/**\r\n * We need to do the following to *our* objects before passing to freestyle:\r\n * - For any `$nest` directive move up to FreeStyle style nesting\r\n * - For any `$unique` directive map to FreeStyle Unique\r\n * - For any `$debugName` directive return the debug name\r\n */\r\nexport function ensureStringObj(object) {\r\n    /** The final result we will return */\r\n    var result = {};\r\n    var debugName = '';\r\n    for (var key in object) {\r\n        /** Grab the value upfront */\r\n        var val = object[key];\r\n        /** TypeStyle configuration options */\r\n        if (key === '$unique') {\r\n            result[FreeStyle.IS_UNIQUE] = val;\r\n        }\r\n        else if (key === '$nest') {\r\n            var nested = val;\r\n            for (var selector in nested) {\r\n                var subproperties = nested[selector];\r\n                result[selector] = ensureStringObj(subproperties).result;\r\n            }\r\n        }\r\n        else if (key === '$debugName') {\r\n            debugName = val;\r\n        }\r\n        else {\r\n            result[key] = val;\r\n        }\r\n    }\r\n    return { result: result, debugName: debugName };\r\n}\r\n// todo: better name here\r\nexport function explodeKeyframes(frames) {\r\n    var result = { $debugName: undefined, keyframes: {} };\r\n    for (var offset in frames) {\r\n        var val = frames[offset];\r\n        if (offset === '$debugName') {\r\n            result.$debugName = val;\r\n        }\r\n        else {\r\n            result.keyframes[offset] = val;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n","/** Raf for node + browser */\r\nexport var raf = typeof requestAnimationFrame === 'undefined'\r\n    /**\r\n     * Make sure setTimeout is always invoked with\r\n     * `this` set to `window` or `global` automatically\r\n     **/\r\n    ? function (cb) { return setTimeout(cb); }\r\n    /**\r\n     * Make sure window.requestAnimationFrame is always invoked with `this` window\r\n     * We might have raf without window in case of `raf/polyfill` (recommended by React)\r\n     **/\r\n    : typeof window === 'undefined'\r\n        ? requestAnimationFrame\r\n        : requestAnimationFrame.bind(window);\r\n/**\r\n * Utility to join classes conditionally\r\n */\r\nexport function classes() {\r\n    var classes = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        classes[_i] = arguments[_i];\r\n    }\r\n    return classes.filter(function (c) { return !!c; }).join(' ');\r\n}\r\n/**\r\n * Merges various styles into a single style object.\r\n * Note: if two objects have the same property the last one wins\r\n */\r\nexport function extend() {\r\n    var objects = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        objects[_i] = arguments[_i];\r\n    }\r\n    /** The final result we will return */\r\n    var result = {};\r\n    for (var _a = 0, objects_1 = objects; _a < objects_1.length; _a++) {\r\n        var object = objects_1[_a];\r\n        if (object == null || object === false) {\r\n            continue;\r\n        }\r\n        for (var key in object) {\r\n            /** Falsy values except a explicit 0 is ignored */\r\n            var val = object[key];\r\n            if (!val && val !== 0) {\r\n                continue;\r\n            }\r\n            /** if nested media or pseudo selector */\r\n            if (key === '$nest' && val) {\r\n                result[key] = result['$nest'] ? extend(result['$nest'], val) : val;\r\n            }\r\n            else if ((key.indexOf('&') !== -1 || key.indexOf('@media') === 0)) {\r\n                result[key] = result[key] ? extend(result[key], val) : val;\r\n            }\r\n            else {\r\n                result[key] = val;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Utility to help customize styles with media queries. e.g.\r\n * ```\r\n * style(\r\n *  media({maxWidth:500}, {color:'red'})\r\n * )\r\n * ```\r\n */\r\nexport var media = function (mediaQuery) {\r\n    var objects = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        objects[_i - 1] = arguments[_i];\r\n    }\r\n    var mediaQuerySections = [];\r\n    if (mediaQuery.type)\r\n        mediaQuerySections.push(mediaQuery.type);\r\n    if (mediaQuery.orientation)\r\n        mediaQuerySections.push(\"(orientation: \" + mediaQuery.orientation + \")\");\r\n    if (mediaQuery.minWidth)\r\n        mediaQuerySections.push(\"(min-width: \" + mediaLength(mediaQuery.minWidth) + \")\");\r\n    if (mediaQuery.maxWidth)\r\n        mediaQuerySections.push(\"(max-width: \" + mediaLength(mediaQuery.maxWidth) + \")\");\r\n    if (mediaQuery.minHeight)\r\n        mediaQuerySections.push(\"(min-height: \" + mediaLength(mediaQuery.minHeight) + \")\");\r\n    if (mediaQuery.maxHeight)\r\n        mediaQuerySections.push(\"(max-height: \" + mediaLength(mediaQuery.maxHeight) + \")\");\r\n    var stringMediaQuery = \"@media \" + mediaQuerySections.join(' and ');\r\n    var object = {\r\n        $nest: (_a = {},\r\n            _a[stringMediaQuery] = extend.apply(void 0, objects),\r\n            _a)\r\n    };\r\n    return object;\r\n    var _a;\r\n};\r\nvar mediaLength = function (value) {\r\n    return typeof value === 'string' ? value : value + \"px\";\r\n};\r\n","import * as FreeStyle from \"free-style\";\r\nimport { ensureStringObj, explodeKeyframes } from './formatting';\r\nimport { extend, raf } from './utilities';\r\n/**\r\n * Creates an instance of free style with our options\r\n */\r\nvar createFreeStyle = function () { return FreeStyle.create(\r\n/** Use the default hash function */\r\nundefined, \r\n/** Preserve $debugName values */\r\ntrue); };\r\n/**\r\n * Maintains a single stylesheet and keeps it in sync with requested styles\r\n */\r\nvar TypeStyle = /** @class */ (function () {\r\n    function TypeStyle(_a) {\r\n        var autoGenerateTag = _a.autoGenerateTag;\r\n        var _this = this;\r\n        /**\r\n         * Insert `raw` CSS as a string. This is useful for e.g.\r\n         * - third party CSS that you are customizing with template strings\r\n         * - generating raw CSS in JavaScript\r\n         * - reset libraries like normalize.css that you can use without loaders\r\n         */\r\n        this.cssRaw = function (mustBeValidCSS) {\r\n            if (!mustBeValidCSS) {\r\n                return;\r\n            }\r\n            _this._raw += mustBeValidCSS || '';\r\n            _this._pendingRawChange = true;\r\n            _this._styleUpdated();\r\n        };\r\n        /**\r\n         * Takes CSSProperties and registers it to a global selector (body, html, etc.)\r\n         */\r\n        this.cssRule = function (selector) {\r\n            var objects = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                objects[_i - 1] = arguments[_i];\r\n            }\r\n            var object = ensureStringObj(extend.apply(void 0, objects)).result;\r\n            _this._freeStyle.registerRule(selector, object);\r\n            _this._styleUpdated();\r\n            return;\r\n        };\r\n        /**\r\n         * Renders styles to the singleton tag imediately\r\n         * NOTE: You should only call it on initial render to prevent any non CSS flash.\r\n         * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\r\n         **/\r\n        this.forceRenderStyles = function () {\r\n            var target = _this._getTag();\r\n            if (!target) {\r\n                return;\r\n            }\r\n            target.textContent = _this.getStyles();\r\n        };\r\n        /**\r\n         * Utility function to register an @font-face\r\n         */\r\n        this.fontFace = function () {\r\n            var fontFace = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                fontFace[_i] = arguments[_i];\r\n            }\r\n            var freeStyle = _this._freeStyle;\r\n            for (var _a = 0, _b = fontFace; _a < _b.length; _a++) {\r\n                var face = _b[_a];\r\n                freeStyle.registerRule('@font-face', face);\r\n            }\r\n            _this._styleUpdated();\r\n            return;\r\n        };\r\n        /**\r\n         * Allows use to use the stylesheet in a node.js environment\r\n         */\r\n        this.getStyles = function () {\r\n            return (_this._raw || '') + _this._freeStyle.getStyles();\r\n        };\r\n        /**\r\n         * Takes keyframes and returns a generated animationName\r\n         */\r\n        this.keyframes = function (frames) {\r\n            var _a = explodeKeyframes(frames), keyframes = _a.keyframes, $debugName = _a.$debugName;\r\n            // TODO: replace $debugName with display name\r\n            var animationName = _this._freeStyle.registerKeyframes(keyframes, $debugName);\r\n            _this._styleUpdated();\r\n            return animationName;\r\n        };\r\n        /**\r\n         * Helps with testing. Reinitializes FreeStyle + raw\r\n         */\r\n        this.reinit = function () {\r\n            /** reinit freestyle */\r\n            var freeStyle = createFreeStyle();\r\n            _this._freeStyle = freeStyle;\r\n            _this._lastFreeStyleChangeId = freeStyle.changeId;\r\n            /** reinit raw */\r\n            _this._raw = '';\r\n            _this._pendingRawChange = false;\r\n            /** Clear any styles that were flushed */\r\n            var target = _this._getTag();\r\n            if (target) {\r\n                target.textContent = '';\r\n            }\r\n        };\r\n        /** Sets the target tag where we write the css on style updates */\r\n        this.setStylesTarget = function (tag) {\r\n            /** Clear any data in any previous tag */\r\n            if (_this._tag) {\r\n                _this._tag.textContent = '';\r\n            }\r\n            _this._tag = tag;\r\n            /** This special time buffer immediately */\r\n            _this.forceRenderStyles();\r\n        };\r\n        /**\r\n         * Takes an object where property names are ideal class names and property values are CSSProperties, and\r\n         * returns an object where property names are the same ideal class names and the property values are\r\n         * the actual generated class names using the ideal class name as the $debugName\r\n         */\r\n        this.stylesheet = function (classes) {\r\n            var classNames = Object.getOwnPropertyNames(classes);\r\n            var result = {};\r\n            for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\r\n                var className = classNames_1[_i];\r\n                var classDef = classes[className];\r\n                if (classDef) {\r\n                    classDef.$debugName = className;\r\n                    result[className] = _this.style(classDef);\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        var freeStyle = createFreeStyle();\r\n        this._autoGenerateTag = autoGenerateTag;\r\n        this._freeStyle = freeStyle;\r\n        this._lastFreeStyleChangeId = freeStyle.changeId;\r\n        this._pending = 0;\r\n        this._pendingRawChange = false;\r\n        this._raw = '';\r\n        this._tag = undefined;\r\n        // rebind prototype to TypeStyle.  It might be better to do a function() { return this.style.apply(this, arguments)}\r\n        this.style = this.style.bind(this);\r\n    }\r\n    /**\r\n     * Only calls cb all sync operations settle\r\n     */\r\n    TypeStyle.prototype._afterAllSync = function (cb) {\r\n        var _this = this;\r\n        this._pending++;\r\n        var pending = this._pending;\r\n        raf(function () {\r\n            if (pending !== _this._pending) {\r\n                return;\r\n            }\r\n            cb();\r\n        });\r\n    };\r\n    TypeStyle.prototype._getTag = function () {\r\n        if (this._tag) {\r\n            return this._tag;\r\n        }\r\n        if (this._autoGenerateTag) {\r\n            var tag = typeof window === 'undefined'\r\n                ? { textContent: '' }\r\n                : document.createElement('style');\r\n            if (typeof document !== 'undefined') {\r\n                document.head.appendChild(tag);\r\n            }\r\n            this._tag = tag;\r\n            return tag;\r\n        }\r\n        return undefined;\r\n    };\r\n    /** Checks if the style tag needs updating and if so queues up the change */\r\n    TypeStyle.prototype._styleUpdated = function () {\r\n        var _this = this;\r\n        var changeId = this._freeStyle.changeId;\r\n        var lastChangeId = this._lastFreeStyleChangeId;\r\n        if (!this._pendingRawChange && changeId === lastChangeId) {\r\n            return;\r\n        }\r\n        this._lastFreeStyleChangeId = changeId;\r\n        this._pendingRawChange = false;\r\n        this._afterAllSync(function () { return _this.forceRenderStyles(); });\r\n    };\r\n    TypeStyle.prototype.style = function () {\r\n        var freeStyle = this._freeStyle;\r\n        var _a = ensureStringObj(extend.apply(undefined, arguments)), result = _a.result, debugName = _a.debugName;\r\n        var className = debugName ? freeStyle.registerStyle(result, debugName) : freeStyle.registerStyle(result);\r\n        this._styleUpdated();\r\n        return className;\r\n    };\r\n    return TypeStyle;\r\n}());\r\nexport { TypeStyle };\r\n","import { TypeStyle } from './internal/typestyle';\r\nexport { TypeStyle };\r\n/**\r\n * All the CSS types in the 'types' namespace\r\n */\r\nimport * as types from './types';\r\nexport { types };\r\n/**\r\n * Export certain utilities\r\n */\r\nexport { extend, classes, media } from './internal/utilities';\r\n/** Zero configuration, default instance of TypeStyle */\r\nvar ts = new TypeStyle({ autoGenerateTag: true });\r\n/** Sets the target tag where we write the css on style updates */\r\nexport var setStylesTarget = ts.setStylesTarget;\r\n/**\r\n * Insert `raw` CSS as a string. This is useful for e.g.\r\n * - third party CSS that you are customizing with template strings\r\n * - generating raw CSS in JavaScript\r\n * - reset libraries like normalize.css that you can use without loaders\r\n */\r\nexport var cssRaw = ts.cssRaw;\r\n/**\r\n * Takes CSSProperties and registers it to a global selector (body, html, etc.)\r\n */\r\nexport var cssRule = ts.cssRule;\r\n/**\r\n * Renders styles to the singleton tag imediately\r\n * NOTE: You should only call it on initial render to prevent any non CSS flash.\r\n * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\r\n **/\r\nexport var forceRenderStyles = ts.forceRenderStyles;\r\n/**\r\n * Utility function to register an @font-face\r\n */\r\nexport var fontFace = ts.fontFace;\r\n/**\r\n * Allows use to use the stylesheet in a node.js environment\r\n */\r\nexport var getStyles = ts.getStyles;\r\n/**\r\n * Takes keyframes and returns a generated animationName\r\n */\r\nexport var keyframes = ts.keyframes;\r\n/**\r\n * Helps with testing. Reinitializes FreeStyle + raw\r\n */\r\nexport var reinit = ts.reinit;\r\n/**\r\n * Takes CSSProperties and return a generated className you can use on your component\r\n */\r\nexport var style = ts.style;\r\n/**\r\n * Takes an object where property names are ideal class names and property values are CSSProperties, and\r\n * returns an object where property names are the same ideal class names and the property values are\r\n * the actual generated class names using the ideal class name as the $debugName\r\n */\r\nexport var stylesheet = ts.stylesheet;\r\n/**\r\n * Creates a new instance of TypeStyle separate from the default instance.\r\n *\r\n * - Use this for creating a different typestyle instance for a shadow dom component.\r\n * - Use this if you don't want an auto tag generated and you just want to collect the CSS.\r\n *\r\n * NOTE: styles aren't shared between different instances.\r\n */\r\nexport function createTypeStyle(target) {\r\n    var instance = new TypeStyle({ autoGenerateTag: false });\r\n    if (target) {\r\n        instance.setStylesTarget(target);\r\n    }\r\n    return instance;\r\n}\r\n","import { h, Component } from 'preact';\r\nimport { scaleLinear, scaleTime } from 'd3-scale';\r\nimport { Margin, TimestampArray, TimestampData } from '../types';\r\nimport { Axis } from '../Axis';\r\nimport { area } from 'd3-shape';\r\nimport { min, max } from 'd3-array';\r\nimport { select, event } from 'd3-selection';\r\nimport { brushX } from 'd3-brush';\r\nimport { style } from 'typestyle';\r\n\r\ndeclare const ResizeObserver: any;\r\n\r\ninterface RangeChartProps {\r\n    name: string;\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    y: string;\r\n    data: TimestampArray;\r\n    lineColour?: string;\r\n    fillColour?: string;\r\n    onBrush?: (extent: Date[]) => void;\r\n    brushColour?: string;\r\n}\r\n\r\ninterface RangeChartDefaultProps {\r\n    height: number;\r\n    width: number;\r\n    margin?: Margin;\r\n    lineColour?: string;\r\n    fillColour?: string;\r\n    onBrush?: (extent: Date[]) => void;\r\n    brushColour: string;\r\n\r\n}\r\n\r\ninterface RangeChartState {\r\n    width: number;\r\n    innerWidth: number;\r\n    height: number;\r\n    innerHeight: number;\r\n    extent?: number[];\r\n}\r\n\r\nexport class RangeChart extends Component<RangeChartProps, RangeChartState> {\r\n\r\n    public static defaultProps: RangeChartDefaultProps = {\r\n        height: 200,\r\n        width: 1000,\r\n        margin: {\r\n            top: 25,\r\n            right: 25,\r\n            bottom: 75,\r\n            left: 75,\r\n        },\r\n        lineColour: 'steelblue',\r\n        fillColour: 'steelblue',\r\n        onBrush: () => {},\r\n        brushColour: 'darkgoldenrod',\r\n    };\r\n    private brush: SVGGElement;\r\n    private brushSetup: any;\r\n    private xScale: any;\r\n    private chartSVG: HTMLBaseElement;\r\n    private resizeOb: any;\r\n    private brushClass: any;\r\n\r\n    constructor (props: RangeChartProps) {\r\n        super(props);\r\n        this.brushClass = style({\r\n            $nest: {\r\n                '&>rect.handle': {\r\n                    fill: props.brushColour,\r\n                },\r\n            },\r\n        });\r\n        const innerWidth = props.width - props.margin.left - props.margin.right;\r\n        const innerHeight = props.height - props.margin.top - props.margin.bottom;\r\n        this.state = {\r\n            width: props.width,\r\n            height: props.height,\r\n            innerWidth,\r\n            innerHeight,\r\n        };\r\n    }\r\n\r\n    public render (props: RangeChartProps, {width, height, innerWidth, innerHeight}: RangeChartState) {\r\n        this.xScale = scaleTime()\r\n            .range([0, innerWidth])\r\n            .domain([min(props.data, (d) => d.timestamp), max(props.data, (d) => d.timestamp)]);\r\n        const yScale = scaleLinear()\r\n            .range([innerHeight, 0])\r\n            .domain([min(props.data, (d) => +d[props.y]), max(props.data, (d) => +d[props.y])]);\r\n\r\n        const areaFunc = area<TimestampData>()\r\n            .x((d) => this.xScale(d.timestamp))\r\n            .y0(innerHeight)\r\n            .y1((d) => yScale(+d[props.y]));\r\n\r\n        return (\r\n            <svg ref={(svg) => this.chartSVG = svg} class={props.name} height={height} width={width}>\r\n                <g transform={`translate(${props.margin.left}, ${props.margin.top})`}>\r\n                    <Axis height={innerHeight} axisType='x' scale={this.xScale}/>\r\n                    <Axis width={innerWidth} axisType='y' scale={yScale} grid={true} ticks={0}/>\r\n                    <path d={areaFunc(props.data)}\r\n                        stroke-linecap='round' stroke={props.lineColour} fill={props.fillColour} stroke-width='1px'/>\r\n                    <g ref={(brush) => this.brush = brush} class={this.brushClass}></g>\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    public componentDidMount = () => {\r\n        this.resizeChart();\r\n        this.resizeOb = new ResizeObserver((entries: any[]) => {\r\n            for (const entry of entries) {\r\n                const cr = entry.contentRect;\r\n                const width = cr.width;\r\n                const height = cr.height;\r\n                if (width !== this.state.width || height !== this.state.height) {\r\n                    this.resizeChart();\r\n                }\r\n            }\r\n        });\r\n        this.resizeOb.observe(this.chartSVG.parentElement);\r\n    }\r\n\r\n    public componentWillUnmount () {\r\n        this.resizeOb.disconnect();\r\n        select(this.brush).call(this.brushSetup.move, null);\r\n    }\r\n\r\n    private resizeChart () {\r\n        const parent = this.chartSVG.parentElement;\r\n        const cr = parent.getBoundingClientRect();\r\n        const width = cr.width;\r\n        const height = cr.height;\r\n        const innerWidth = width - this.props.margin.left - this.props.margin.right;\r\n        const innerHeight = height - this.props.margin.top - this.props.margin.bottom;\r\n        this.xScale.range([0, innerWidth]);\r\n        this.brushSetup = brushX()\r\n            .extent([\r\n                [0, 0],\r\n                [innerWidth, innerHeight],\r\n            ])\r\n            .handleSize(10)\r\n            .on('end', () => {\r\n                const selection = (event.selection || [0, innerWidth]) as [number, number];\r\n                const inverted = [this.xScale.invert(selection[0]), this.xScale.invert(selection[1])];\r\n                this.setState({extent: event.selection ? inverted : null});\r\n                this.props.onBrush(inverted);\r\n            });\r\n        const brushSelection = select(this.brush);\r\n        brushSelection.call(this.brushSetup);\r\n        const brushMove = (this.state.extent === null || this.state.extent === undefined) ?\r\n            null :\r\n            [this.xScale(this.state.extent[0]), this.xScale(this.state.extent[1])];\r\n        brushSelection.call(this.brushSetup.move, brushMove);\r\n        this.setState({innerWidth, innerHeight, height, width});\r\n    }\r\n}\r\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import { h, Component } from 'preact';\r\nimport { Axis } from '../Axis';\r\nimport { Margin, DataArray } from '../types';\r\nimport { scaleLinear } from 'd3-scale';\r\nimport { extent } from 'd3-array';\r\nimport { select, event } from 'd3-selection';\r\nimport { brush } from 'd3-brush';\r\nimport { css } from 'goober';\r\n\r\nconst dot = css({\r\n    'stroke-width': '1px',\r\n});\r\n\r\ndeclare const ResizeObserver: any;\r\n\r\ninterface ScatterPlotProps {\r\n    name: string;\r\n    x: string;\r\n    y: string;\r\n    data: DataArray;\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    radius?: number;\r\n    labels?: boolean;\r\n    dotFill?: string;\r\n    dotBorder?: string;\r\n}\r\n\r\ninterface ScatterPlotDefaultProps {\r\n    height: number;\r\n    width: number;\r\n    margin: Margin;\r\n    radius: number;\r\n    labels: boolean;\r\n    dotFill: string;\r\n    dotBorder: string;\r\n\r\n}\r\n\r\ninterface ScatterPlotState {\r\n    width: number;\r\n    innerWidth: number;\r\n    height: number;\r\n    innerHeight: number;\r\n    xDomain: [number, number];\r\n    yDomain: [number, number];\r\n}\r\n\r\nexport class ScatterPlot extends Component<ScatterPlotProps, ScatterPlotState> {\r\n\r\n    public static defaultProps: ScatterPlotDefaultProps = {\r\n        height: 500,\r\n        width: 500,\r\n        margin: {\r\n            top: 25,\r\n            right: 25,\r\n            bottom: 75,\r\n            left: 75,\r\n        },\r\n        radius: 5,\r\n        labels: false,\r\n        dotFill: 'steelblue',\r\n        dotBorder: 'whitesmoke',\r\n    };\r\n    private chartSVG: any;\r\n    private resizeOb: any;\r\n    private brush: SVGGElement;\r\n    private brushSetup: any;\r\n    private xScale: any;\r\n    private yScale: any;\r\n\r\n    constructor (props: ScatterPlotProps) {\r\n        super(props);\r\n        const innerWidth = props.width - props.margin.left - props.margin.right;\r\n        const innerHeight = props.height - props.margin.top - props.margin.bottom;\r\n        const xDomain = extent(props.data, (d) => d[props.x]);\r\n        const xDomainPadded = [xDomain[0] * 0.95, xDomain[1] * 1.05] as [number, number];\r\n        const yDomain = extent(props.data, (d) => d[props.y]);\r\n        const yDomainPadded = [yDomain[0] * 0.95, yDomain[1] * 1.05] as [number, number];\r\n\r\n        this.state = {\r\n            width: props.width,\r\n            height: props.height,\r\n            innerWidth,\r\n            innerHeight,\r\n            xDomain: xDomainPadded,\r\n            yDomain: yDomainPadded,\r\n        };\r\n    }\r\n\r\n    public render (props: ScatterPlotProps,\r\n                   {height, width, innerHeight, innerWidth, xDomain, yDomain}: ScatterPlotState) {\r\n\r\n        this.xScale = scaleLinear()\r\n            .range([0, innerWidth])\r\n            .domain(xDomain);\r\n\r\n        this.yScale = scaleLinear()\r\n            .range([innerHeight, 0])\r\n            .domain(yDomain);\r\n\r\n        return (\r\n            <svg ref={(svg) => this.chartSVG = svg} class={props.name} height={height} width={width}>\r\n                <g transform={`translate(${props.margin.left}, ${props.margin.top})`}>\r\n                    <clipPath id={`${props.name}_cp`}>\r\n                        <rect width={innerWidth} height={innerHeight} />\r\n                    </clipPath>\r\n                    <Axis height={innerHeight} axisType='x' scale={this.xScale} grid={true}/>\r\n                    <Axis width={innerWidth} axisType='y' scale={this.yScale} grid={true}/>\r\n                    {\r\n                        props.data.map((point, index) =>\r\n                            <circle class={dot} r={props.radius} cx={this.xScale(point[props.x])}\r\n                                cy={this.yScale(point[props.y])} key={index} clip-path={`url(#${props.name}_cp)`}\r\n                                fill={props.dotFill} stroke={props.dotBorder}/>,\r\n                        )\r\n                    }\r\n                    {\r\n                        props.labels &&\r\n                            <text x={innerWidth / 2} y={innerHeight + props.margin.bottom - 15}>\r\n                                {props.x.replace(/_/g, ' ')}\r\n                            </text>\r\n                    }\r\n                    {\r\n                        props.labels &&\r\n                            <text x={-innerHeight / 2} y={-props.margin.left + 15} transform='rotate(-90)'>\r\n                                {props.y.replace(/_/g, ' ')}\r\n                            </text>\r\n                    }\r\n                    <g ref={(brushRef) => this.brush = brushRef}></g>\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    public componentDidMount () {\r\n        this.resizeChart();\r\n        this.resizeOb = new ResizeObserver((entries: any[]) => {\r\n            for (const entry of entries) {\r\n                const cr = entry.contentRect;\r\n                const width = cr.width;\r\n                const height = cr.height;\r\n                if (width !== this.state.width || height !== this.state.height) {\r\n                    this.resizeChart();\r\n                }\r\n            }\r\n        });\r\n        this.resizeOb.observe(this.chartSVG.parentElement);\r\n    }\r\n\r\n    public componentWillReceiveProps (newProps: ScatterPlotProps, newState: ScatterPlotState) {\r\n        const xDomain = extent(newProps.data, (d) => d[newProps.x]);\r\n        const xDomainPadded = [xDomain[0] * 0.95, xDomain[1] * 1.05] as [number, number];\r\n        const yDomain = extent(newProps.data, (d) => d[newProps.y]);\r\n        const yDomainPadded = [yDomain[0] * 0.95, yDomain[1] * 1.05] as [number, number];\r\n        this.setState({yDomain: yDomainPadded, xDomain: xDomainPadded});\r\n    }\r\n\r\n    public componentWillUnmount () {\r\n        this.resizeOb.disconnect();\r\n    }\r\n\r\n    private resizeChart () {\r\n        const parent = this.chartSVG.parentElement;\r\n        const cr = parent.getBoundingClientRect();\r\n        const width = cr.width;\r\n        const height = cr.height;\r\n        const innerWidth = width - this.props.margin.left - this.props.margin.right;\r\n        const innerHeight = height - this.props.margin.top - this.props.margin.bottom;\r\n        this.brushSetup = brush()\r\n        .extent([\r\n            [0, 0],\r\n            [innerWidth, innerHeight],\r\n        ])\r\n        .handleSize(10)\r\n        .on('end', () => {\r\n            const s = event.selection;\r\n            if (s === null) {\r\n                const xDomain = extent(this.props.data, (d) => d[this.props.x]);\r\n                const xDomainPadded = [xDomain[0] * 0.95, xDomain[1] * 1.05] as [number, number];\r\n                const yDomain = extent(this.props.data, (d) => d[this.props.y]);\r\n                const yDomainPadded = [yDomain[0] * 0.95, yDomain[1] * 1.05] as [number, number];\r\n                this.setState({xDomain: xDomainPadded, yDomain: yDomainPadded});\r\n            } else {\r\n                const xDomain = [s[0][0], s[1][0]].map(this.xScale.invert, this.xScale) as [number, number];\r\n                const yDomain = [s[1][1], s[0][1]].map(this.yScale.invert, this.yScale) as [number, number];\r\n                select(this.brush).call(this.brushSetup.move, null);\r\n                this.setState({xDomain, yDomain});\r\n            }\r\n        });\r\n        select(this.brush).call(this.brushSetup);\r\n        this.setState({innerWidth, innerHeight, height, width});\r\n    }\r\n}\r\n","import { h, Component, ComponentChild, cloneElement, VNode } from 'preact';\r\nimport { scaleLinear, scaleTime } from 'd3-scale';\r\nimport { line } from 'd3-shape';\r\nimport { bisector, extent } from 'd3-array';\r\nimport { Margin, TimestampArray, TimestampData } from '../types';\r\nimport { Axis } from '../Axis';\r\nimport { Flag } from '../Children/Flag';\r\nimport { css } from 'goober';\r\n\r\nconst overlay = css({\r\n    'fill': 'none',\r\n    'pointer-events': 'all',\r\n    'border-top': 'none',\r\n    'border-style': 'none',\r\n});\r\n\r\nconst axisControl = css({\r\n    'text-anchor': 'middle',\r\n    'user-select': 'none',\r\n    'cursor': 'pointer',\r\n    '>text': {\r\n        'width': '12px',\r\n        'font-size': '1.2em',\r\n    },\r\n});\r\n\r\ndeclare const ResizeObserver: any;\r\n\r\ninterface TrendChartProps {\r\n    name: string;\r\n    height?: number;\r\n    width?: number;\r\n    margin?: Margin;\r\n    x: string;\r\n    y: string;\r\n    data: TimestampArray;\r\n    lineColour?: string;\r\n    extent?: Date[];\r\n    tooltip?: boolean;\r\n    axisControl?: boolean;\r\n    controlColour?: string;\r\n}\r\n\r\ninterface TrendChartDefaultProps {\r\n    height: number;\r\n    width: number;\r\n    margin: Margin;\r\n    lineColour: string;\r\n    extent: Date[];\r\n    tooltip: boolean;\r\n    axisControl: boolean;\r\n    controlColour: string;\r\n}\r\n\r\ninterface TrendChartState {\r\n    height: number;\r\n    width: number;\r\n    innerHeight: number;\r\n    innerWidth: number;\r\n    tooltipValues: [Date, number];\r\n    textAnchor: string;\r\n    isMouseOver: boolean;\r\n    yDomain: number[];\r\n}\r\n\r\nexport class TrendChart extends Component<TrendChartProps, TrendChartState> {\r\n\r\n    public static defaultProps: TrendChartDefaultProps = {\r\n        height: 200,\r\n        width: 1000,\r\n        margin: {\r\n            top: 25,\r\n            right: 25,\r\n            bottom: 75,\r\n            left: 75,\r\n        },\r\n        lineColour: 'lightblue',\r\n        extent: [],\r\n        tooltip: true,\r\n        axisControl: true,\r\n        controlColour: 'goldenrod',\r\n    };\r\n    private chartSVG: HTMLBaseElement;\r\n    private resizeOb: any;\r\n    private xScale: any;\r\n\r\n    constructor (props: TrendChartProps) {\r\n        super(props);\r\n        const innerWidth = props.width - props.margin.left - props.margin.right;\r\n        const innerHeight = props.height - props.margin.top - props.margin.bottom;\r\n        const yDomain = extent(props.data, (d) => +d[props.y]);\r\n        this.state = {\r\n            width: props.width,\r\n            height: props.height,\r\n            innerWidth,\r\n            innerHeight,\r\n            isMouseOver: false,\r\n            tooltipValues: [null, null],\r\n            textAnchor: 'middle',\r\n            yDomain,\r\n        };\r\n    }\r\n\r\n    public render (props: TrendChartProps,\r\n                   {innerWidth, innerHeight, height, width, isMouseOver, tooltipValues,\r\n                    textAnchor, yDomain}: TrendChartState) {\r\n        const children = this.props.children as ComponentChild[];\r\n\r\n        const xDomain = props.extent.length > 0 ?\r\n            props.extent :\r\n            extent(props.data, (d) => +d[props.x]);\r\n\r\n        this.xScale = scaleTime()\r\n            .range([0, innerWidth])\r\n            .domain(xDomain);\r\n\r\n        const yScale = scaleLinear()\r\n            .range([innerHeight, 0])\r\n            .domain(yDomain);\r\n\r\n        const lineFunc = line<TimestampData>()\r\n            .x((d) => this.xScale(d[props.x] as Date))\r\n            .y((d) => yScale(+d[props.y]));\r\n\r\n        return (\r\n            <svg ref={(svg) => this.chartSVG = svg} class={props.name} height={height} width={width}>\r\n                { props.axisControl &&\r\n                    <g class={axisControl} stroke={props.controlColour}\r\n                        transform={`translate(${props.margin.left * 0.3}, ${props.margin.top + 5})`}>\r\n                        <text onClick={() => this.handleChangeYDomain('topup')}>\r\n                            &#43;\r\n                        </text>\r\n                        <text transform='translate(0, 15)' onClick={() => this.handleChangeYDomain('topdown')}>\r\n                            &#45;\r\n                        </text>\r\n                    </g>\r\n                }\r\n                { props.axisControl &&\r\n                    <g class={axisControl} stroke={props.controlColour}\r\n                        transform={`translate(${props.margin.left * 0.3}, ${innerHeight})`}>\r\n                        <text onClick={() => this.handleChangeYDomain('botup')}>\r\n                            &#43;\r\n                        </text>\r\n                        <text transform='translate(0, 15)' onClick={() => this.handleChangeYDomain('botdown')}>\r\n                            &#45;\r\n                        </text>\r\n                    </g>\r\n                }\r\n                <g transform={`translate(${props.margin.left}, ${props.margin.top})`}>\r\n                    <clipPath id={`${props.name}_cp`}>\r\n                        <rect width={innerWidth} height={innerHeight} />\r\n                    </clipPath>\r\n                    <Axis height={innerHeight} axisType='x' scale={this.xScale}/>\r\n                    <Axis width={innerWidth} axisType='y' scale={yScale} grid={true}/>\r\n                    <path d={lineFunc(props.data)} clip-path={`url(#${props.name}_cp)`}\r\n                        stroke-linecap='round' stroke={props.lineColour} fill='none' stroke-width='2px'/>\r\n                    {\r\n                        children[0] &&\r\n                            children.map((ch) =>\r\n                                cloneElement(ch as VNode<Flag>,\r\n                                        {xScale: this.xScale, height: innerHeight, chartName: props.name}))\r\n                    }\r\n                    {\r\n                        (isMouseOver && tooltipValues[0] !== null) &&\r\n                            <g transform={`translate(${this.xScale(tooltipValues[0])},${yScale(tooltipValues[1])})`}>\r\n                                <circle fill='none' stroke-width={2} stroke='gold' r='6'></circle>\r\n                                <text x={0} y={-15} dy='0.5em' text-anchor={textAnchor} stroke='currentColor'>\r\n                                {\r\n                                    `${tooltipValues[0].toLocaleDateString()} ${tooltipValues[0].toLocaleTimeString()}:\r\n                                        ${tooltipValues[1].toFixed(4)}`\r\n                                }\r\n                                </text>\r\n                            </g>\r\n                    }\r\n                    {\r\n                        (props.tooltip && props.data.length > 0) &&\r\n                            <rect class={overlay} width={innerWidth} height={innerHeight}\r\n                                onMouseMove={this.handleMouseMove} onMouseOver={this.handleMouseOver}\r\n                                onMouseOut={this.handleMouseOut}>\r\n                            </rect>\r\n                    }\r\n                    {\r\n                        children[0] &&\r\n                            children.map((ch) =>\r\n                                cloneElement(ch as VNode<Flag>,\r\n                                        {xScale: this.xScale, height: innerHeight, chartName: props.name}))\r\n                    }\r\n                </g>\r\n             </svg>\r\n        );\r\n    }\r\n\r\n    public componentDidMount () {\r\n        this.resizeChart();\r\n        this.resizeOb = new ResizeObserver((entries: any[]) => {\r\n            for (const entry of entries) {\r\n                const cr = entry.contentRect;\r\n                const width = cr.width;\r\n                const height = cr.height;\r\n                if (width !== this.state.width || height !== this.state.height) {\r\n                    this.resizeChart();\r\n                }\r\n            }\r\n        });\r\n        this.resizeOb.observe(this.chartSVG.parentElement);\r\n    }\r\n\r\n    public componentWillReceiveProps (newProps: TrendChartProps) {\r\n        const yDomain = extent(newProps.data, (d) => +d[newProps.y]);\r\n        this.setState({yDomain});\r\n    }\r\n\r\n    public componentWillUnmount () {\r\n        this.resizeOb.disconnect();\r\n    }\r\n\r\n    private handleChangeYDomain = (direction: string) => {\r\n        const yDomain = this.state.yDomain;\r\n        const yMax = yDomain[1];\r\n        switch (direction) {\r\n            case 'topup':\r\n                yDomain[1] *= 1.05;\r\n                break;\r\n            case 'topdown':\r\n                yDomain[1] *= 0.95;\r\n                break;\r\n            case 'botup':\r\n                yDomain[0] += yMax * 0.05;\r\n                break;\r\n            case 'botdown':\r\n                yDomain[0] -= yMax * 0.05;\r\n                break;\r\n        }\r\n        yDomain[0] = yDomain[0] < 0 ? 0 : yDomain[0];\r\n        this.setState({yDomain});\r\n    }\r\n\r\n    private handleMouseOver = () => {\r\n        this.setState({isMouseOver: true});\r\n    }\r\n\r\n    private handleMouseOut = () => {\r\n        this.setState({isMouseOver: false});\r\n    }\r\n\r\n    private handleMouseMove = (e: MouseEvent) => {\r\n        const xPoint = e.offsetX - this.props.margin.left;\r\n        const xValue = this.xScale.invert(xPoint);\r\n        const textAnchor = xPoint < (this.state.innerWidth * 0.1) ?\r\n            'start' :\r\n            xPoint < (this.state.innerWidth * 0.9) ?\r\n                'middle' :\r\n                'end';\r\n\r\n        const i = this.bisectDate(this.props.data, xValue, 1);\r\n        const d0 = this.props.data[i - 1];\r\n        const d1 = this.props.data[i];\r\n\r\n        const point = d1 === undefined ?\r\n            d0 :\r\n            +xValue - +d0.timestamp > +d1.timestamp - +xValue ?\r\n                d1 :\r\n                d0;\r\n\r\n        const tooltipValues = [point.timestamp, point[this.props.y]] as TrendChartState['tooltipValues'];\r\n        this.setState({tooltipValues, textAnchor});\r\n    }\r\n\r\n    private bisectDate = (data: TimestampArray, x: number, low: number) =>\r\n        bisector((d: TimestampData) => d[this.props.x]).left(data, x, low)\r\n\r\n    private resizeChart () {\r\n        const parent = this.chartSVG.parentElement;\r\n        const cr = parent.getBoundingClientRect();\r\n        const width = cr.width;\r\n        const height = cr.height;\r\n        const innerWidth = width - this.props.margin.left - this.props.margin.right;\r\n        const innerHeight = height - this.props.margin.top - this.props.margin.bottom;\r\n        this.setState({innerWidth, innerHeight, height, width});\r\n    }\r\n}\r\n","import { h, Component } from 'preact';\r\nimport { ScaleTime } from 'd3-scale';\r\nimport { EventsData } from '../types';\r\nimport { css } from 'goober';\r\n\r\nconst flagStyle = css({\r\n    'fill': 'gray',\r\n    'stroke-width': '1',\r\n    'stroke-opacity': 0.9,\r\n    'fill-opacity': 0.45,\r\n    'stroke': 'lightgray',\r\n    ':hover': {\r\n        fill: 'lightgray',\r\n    },\r\n});\r\n\r\nconst topperDefault = css({\r\n    'fill': 'red',\r\n    'fill-opacity': 1,\r\n});\r\n\r\nconst topperClicked = css({\r\n    'fill': 'lawngreen',\r\n    'fill-opacity': 1,\r\n});\r\n\r\ninterface FlagProps extends EventsData {\r\n    onClick: (flagID: number) => void;\r\n    xScale?: ScaleTime<number, number>;\r\n    height?: number;\r\n    chartName: string;\r\n    isClicked: boolean;\r\n}\r\n\r\nexport class Flag extends Component<FlagProps> {\r\n    public static defaultProps: FlagProps = {\r\n        onClick: () => {},\r\n        idx: 0,\r\n        event: 0,\r\n        start: '',\r\n        end: '',\r\n        type: '',\r\n        sub_type: '',\r\n        comment: null,\r\n        chartName: '',\r\n        isClicked: false,\r\n    };\r\n\r\n    constructor (props: FlagProps) {\r\n        super(props);\r\n    }\r\n    public render ({ xScale, height, start, end, chartName, isClicked }: FlagProps) {\r\n        return (\r\n            <g class={flagStyle} onClick={this.handleFlagClick} clip-path={`url(#${chartName}_cp)`}>\r\n                <path\r\n                    d={`M ${xScale(start as Date)} \\\r\n                        ${height} H ${xScale(end as Date)} V 20 H ${xScale(start as Date)} V ${height}`}>\r\n                </path>\r\n                <path class={isClicked ? topperClicked : topperDefault}\r\n                    d={`M ${xScale(end as Date)} \\\r\n                        20 L ${xScale(end as Date)} 0 L ${xScale(end as Date) - 15} 8 L \\\r\n                        ${xScale(end as Date)} 16 V 20`}>\r\n                </path>\r\n            </g>\r\n        );\r\n    }\r\n\r\n    private handleFlagClick = (e: Event) => {\r\n        e.stopPropagation();\r\n        this.props.onClick(this.props.event);\r\n    }\r\n}\r\n"],"names":["VNode","options","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","i","children","arguments","length","push","pop","undefined","String","p","key","extend","obj","props","applyRef","ref","value","current","defer","Promise","resolve","then","bind","setTimeout","cloneElement","vnode","slice","call","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","rerender","renderComponent","isNamedNode","node","normalizedNodeName","toLowerCase","getNodeProps","defaultProps","removeNode","parentNode","removeChild","setAccessor","name","old","isSvg","style","cssText","test","innerHTML","__html","useCapture","replace","substring","addEventListener","eventProxy","removeEventListener","_listeners","e","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","className","this","type","mounts","diffLevel","isSvgMode","hydrating","recollectNodeTree","unmountOnly","_component","unmountComponent","removeChildren","lastChild","next","previousSibling","recyclerComponents","createComponent","Ctor","context","inst","prototype","render","Component","constructor","doRender","nextBase","splice","state","setComponentProps","renderMode","mountAll","_disable","__ref","__key","getDerivedStateFromProps","base","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","shouldComponentUpdate","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","toUnmount","childComponent","childProps","_parentComponent","dom","parent","componentRoot","ownerSVGElement","ret","idiff","out","prevSvgMode","splitText","nodeValue","document","createTextNode","replaceChild","vnodeName","c","originalComponent","oldDom","isDirectOwner","_componentConstructor","isOwner","buildComponentFromVNode","createElementNS","createElement","firstChild","appendChild","fc","vchildren","a","nextSibling","isHydrating","j","f","vchild","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","_child","trim","insertBefore","innerDiffNode","dangerouslySetInnerHTML","attrs","diffAttributes","diff","baseParent","componentRef","t","componentDidUpdate","_renderCallbacks","shift","componentDidMount","flushMounts","componentWillUnmount","inner","setState","callback","forceUpdate","xhtml","svg","xlink","xml","xmlns","prefix","indexOf","namespaces","hasOwnProperty","space","local","fullname","namespace","ownerDocument","uri","namespaceURI","documentElement","none","selector","querySelector","empty","querySelectorAll","matches","update","Array","EnterNode","datum","_next","_parent","__data__","keyPrefix","bindIndex","group","enter","exit","data","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","b","NaN","defaultView","styleValue","getPropertyValue","getComputedStyle","classArray","string","split","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","n","add","classedRemove","remove","textRemove","textContent","htmlRemove","raise","lower","constantNull","selection_cloneShallow","cloneNode","selection_cloneDeep","join","contains","filterEvents","event","filterContextListener","listener","index","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","typename","on","__on","o","m","capture","onAdd","wrap","d","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","mouseenter","mouseleave","root","Selection","groups","parents","_groups","_parents","selection","source","sourceEvent","changedTouches","createSVGPoint","point","x","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","select","subgroups","subnode","subgroup","selectAll","selectorAll","filter","match","matcher","size","each","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","map","sparse","onenter","onupdate","onexit","append","merge","order","groups0","groups1","m0","Math","merges","group0","group1","sort","compare","compareNode","sortgroups","sortgroup","apply","nodes","attr","getAttributeNS","v","priority","removeProperty","setProperty","property","classed","text","html","create","creator","insert","before","clone","deep","typenames","dispatch","right","bottom","epsilon","translateX","translateY","entering","__axis","axis","orient","scale","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","values","ticks","domain","format","identity","spacing","max","range","range0","range1","position","bandwidth","offset","round","copy","path","tick","tickExit","tickEnter","line","transition","isFinite","_","tickSize","axisBottom","axisLeft","str","big","JSON","stringify","reduce","charCodeAt","tickLabel","css","gridStyle","stroke","Axis","renderAxis","axisType","rotateScaleText","grid","height","width","translate","offsetX","shouldOffset","class","gridline","lo","hi","mid","bisectRight","bisector","e10","sqrt","e5","e2","tickIncrement","start","stop","count","step","power","floor","log","LN10","error","pow","tickStep","step0","abs","step1","initRange","Map","object","set","isArray","has","get","clear","keys","entries","array","implicit","ordinal","unknown","band","ordinalRange","paddingInner","paddingOuter","align","rescale","reverse","ceil","sequence","rangeRound","padding","factory","definition","Object","Color","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color","exec","Rgb","parseInt","rgbn","rgba","hsla","r","g","rgbConvert","rgb","opacity","hex","toString","s","l","Hsl","hsl2rgb","m1","m2","define","displayable","brighter","darker","isNaN","hslConvert","deg2rad","PI","rad2deg","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","cos","sin","z","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","atan2","hclConvert","A","B","C","D","E","ED","EB","BC_DA","Cubehelix","nogamma","linear","constant","bl","cubehelixConvert","cosh","sinh","rgbGamma","exponential","gamma","end","colorRgb","reA","reB","am","bm","bs","bi","lastIndex","q","number","one","zero","Date","setTime","nb","na","valueOf","cssNode","cssRoot","cssView","svgNode","degrees","rotate","skewX","scaleX","scaleY","atan","interpolateTransform","parse","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","unit","normalize","clamper","bimap","interpolate","d0","d1","r0","r1","polymap","bisect","target","clamp","continuous","untransform","piecewise","output","input","interpolateValue","invert","interpolateNumber","interpolateRound","u","transformer","toExponential","coefficient","formatDecimal","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","Error","fill","sign","symbol","comma","precision","exponent","%","toFixed","toPrecision","formatRounded","X","toUpperCase","locale","formatPrefix","prefixes","precisionPrefix","precisionRound","precisionFixed","nice","linearish","grouping","thousands","currency","decimal","numerals","formatNumerals","percent","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","Infinity","formatLocale","newInterval","floori","offseti","field","interval","date","every","millisecond","durationMinute","durationWeek","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","setUTCSeconds","getUTCMinutes","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcYear","setUTCMonth","getUTCMonth","getUTCFullYear","setUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newYear","timeFormat","utcFormat","utcParse","pads","-","0","numberRe","percentRe","requoteRe","pad","requote","formatRe","formatLookup","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","timeDay","timeYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","timeSunday","formatWeekNumberISO","timeThursday","formatWeekdayNumberSunday","formatWeekNumberMonday","timeMonday","formatYear","formatFullYear","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","I","Y","utcFormats","parses","parseSpecifier","charAt","newParse","newDate","week","defaultLocale","toISOString","durationSecond","durationHour","durationDay","durationMonth","durationYear","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","tickInterval","x0","x1","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","valueof","LN2","pluck","el","pluckUnique","Set","DifferenceChart","entry","title","margin","ref$1","xMax","xDomain","yDomain","xScale","scaleLinear","innerWidth","yScale","scaleBand","innerHeight","chartSVG","createBars","resizeChart","resizeOb","ResizeObserver","const","cr","contentRect","observe","parentElement","disconnect","colourArray","GroupedBar","colourScale","yMax","groupMax","scaleOrdinal","barName","idx","strokeWidth","dy","legendReference","bar","Histogram","valuesArray","xMin","bins","extent","threshold","sturges","histogram","from","xz","tz","bin","thresholds","barWidth","barColour","barOutline","HorizontalBar","y0","y1","noop","Dispatch","concat","preventDefault","stopImmediatePropagation","types","T","that","args","taskHead","taskTail","frame","timeout","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","restart","wake","timerFlush","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","TypeError","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","id","timing","schedules","__transition","self","tween","duration","ease","init","schedule","active","tweenValue","_id","interpolateRgb","interpolateString","styleRemove","Transition","_name","newId","selection_prototype","inherit","id0","id1","on0","on1","sit","onFunction","attrTween","string00","string10","interpolate0","string0","string1","value1","_value","attrInterpolateNS","attrInterpolate","styleTween","styleNull","styleFunction","listener0","styleMaybeRemove","styleConstant","styleInterpolate","textFunction","textConstant","tween0","tween1","easeConstant","reject","cancel","interrupt","defaultTiming","nopropagation","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","handles","xy","XY","cursors","overlay","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","button","defaultExtent","__brush","brush","dim","touchending","listeners","handleSize","initialize","handle","redraw","started","emitter","Emitter","touches","noevent","w0","w1","n0","n1","e0","e1","s0","s1","dx","moving","lockX","lockY","mode","metaKey","altKey","signX","signY","N","shifting","shiftKey","point0","mouse","emit","beforestart","moved","ended","view","keyCode","move","__noselect","MozUserSelect","dragDisable","point1","noclick","dragEnable","selection0","selection1","starting","customEvent","BrushEvent","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","Linear","_context","pointX","pointY","defined","curve","curveLinear","buffer","defined0","lineStart","lineEnd","slope3","x2","y2","h0","h1","slope2","bezierCurveTo","MonotoneX","ReflectContext","Natural","controlPoints","moveTo","closePath","lineTo","quadraticCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cw","da","areaStart","_line","areaEnd","_point","_t0","_x","_y","px","py","LineScatter","flatData","flat","xDomainPadded","lineFunc","curveNatural","dArray","groupIdx","radius","cx","cy","labels","brushRef","newProps","newState","brushSetup","extendStatics","__extends","setPrototypeOf","__proto__","__","uniqueId","IS_UNIQUE","upperCasePattern","msPattern","interpolatePattern","escapePattern","propLower","cssNumberProperties","CSS_NUMBER","_i","_a","_b","cssNumberProperties_1","escape","stringHash","styleToString","sortTuples","stringifyProperties","properties","composeStyles","container","styles","isStyle","displayName","cache","Cache","hash","pid","stylize","hasNestedStyles","propertyName","nestedStyles","isUnique","styleString","parseStyles","rule","Rule","Style","nestedStyles_1","_c","nestedStyles_2","_d","list_1","selector_1","Selector","arr","res","noopChanges","change","changes","sheet","changeId","_keys","_children","_counters","item","getStyles","getIdentifier","oldIndex","newIndex","prevChangeId","prevChangeId_1","unmerge","_super","_this","FreeStyle","debug","process","env","registerStyle","registerKeyframes","keyframes","registerHashRule","registerRule","registerCss","ensureStringObj","result","debugName","val","FreeStyle.IS_UNIQUE","nested","raf","cb","objects","objects_1","createFreeStyle","TypeStyle","autoGenerateTag","cssRaw","mustBeValidCSS","_raw","_pendingRawChange","_styleUpdated","cssRule","_freeStyle","forceRenderStyles","_getTag","fontFace","freeStyle","frames","$debugName","explodeKeyframes","animationName","reinit","_lastFreeStyleChangeId","setStylesTarget","tag","_tag","stylesheet","classes","classNames_1","getOwnPropertyNames","classDef","_autoGenerateTag","_pending","_afterAllSync","pending","head","RangeChart","brushClass","$nest","brushColour","scaleTime","timestamp","areaFunc","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","lineColour","fillColour","inverted","onBrush","brushSelection","brushMove","dot","ScatterPlot","dotFill","dotBorder","axisControl","TrendChart","direction","isMouseOver","xPoint","xValue","textAnchor","bisectDate","low","tooltipValues","controlColour","onClick","handleChangeYDomain","ch","chartName","toLocaleDateString","toLocaleTimeString","tooltip","onMouseMove","handleMouseMove","onMouseOver","handleMouseOver","onMouseOut","handleMouseOut","flagStyle","topperDefault","topperClicked","Flag","stopPropagation","handleFlagClick","isClicked","sub_type","comment"],"mappings":"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"}